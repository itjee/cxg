# Auth Feature ì•„í‚¤í…ì²˜ ë¶„ì„

## ğŸ“ í´ë” êµ¬ì¡°

```
src/features/auth/
â”œâ”€â”€ components/              # UI ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ
â”‚   â”œâ”€â”€ signin-form.tsx
â”‚   â”œâ”€â”€ signup-form.tsx
â”‚   â”œâ”€â”€ forgot-password-form.tsx
â”‚   â”œâ”€â”€ reset-password-form.tsx
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ graphql/                 # GraphQL ê³„ì¸µ (NEW)
â”‚   â”œâ”€â”€ mutations.ts         # GraphQL ë®¤í…Œì´ì…˜ ì •ì˜
â”‚   â”œâ”€â”€ queries.ts           # GraphQL ì¿¼ë¦¬ ì •ì˜
â”‚   â”œâ”€â”€ use-auth.hooks.ts    # Apollo Hooks ë˜í¼
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ hooks/                   # UI Logic ê³„ì¸µ
â”‚   â”œâ”€â”€ use-auth.ts          # ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ UI ë¡œì§
â”‚   â”œâ”€â”€ use-reset-password.ts # ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • UI ë¡œì§
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ services/                # API í†µì‹  ê³„ì¸µ
â”‚   â”œâ”€â”€ auth.service.ts      # GraphQL ê¸°ë°˜ API ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ stores/                  # ìƒíƒœ ê´€ë¦¬ ê³„ì¸µ (Zustand)
â”‚   â”œâ”€â”€ auth.store.ts        # ê¸€ë¡œë²Œ ì¸ì¦ ìƒíƒœ
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ providers/               # Context Provider
â”‚   â””â”€â”€ auth-provider.tsx    # ì•± ì‹œì‘ ì‹œ ì¸ì¦ ì´ˆê¸°í™”
â”‚
â”œâ”€â”€ types/                   # íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ auth.types.ts        # ë¡œê·¸ì¸/íšŒì›ê°€ì… íƒ€ì…
â”‚   â”œâ”€â”€ reset-password.types.ts
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ index.ts                 # Feature export í—ˆë¸Œ
â”œâ”€â”€ GRAPHQL_MIGRATION.md     # GraphQL ë§ˆì´ê·¸ë ˆì´ì…˜ ë¬¸ì„œ
â””â”€â”€ ARCHITECTURE.md          # ì´ íŒŒì¼
```

---

## ğŸ”„ ë°ì´í„° íë¦„ (ë¡œê·¸ì¸ ì˜ˆì‹œ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. UI Component Layer (Components)                              â”‚
â”‚                                                                   â”‚
â”‚  SigninForm.tsx                                                   â”‚
â”‚  â”œâ”€ UI ë Œë”ë§ (ì…ë ¥ í•„ë“œ, ë²„íŠ¼)                                 â”‚
â”‚  â”œâ”€ ì‚¬ìš©ì ì…ë ¥ ìˆ˜ì§‘ (username, password)                        â”‚
â”‚  â””â”€ useAuth() í›…ì—ì„œ signin() í˜¸ì¶œ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. UI Logic Layer (Hooks)                                       â”‚
â”‚                                                                   â”‚
â”‚  use-auth.ts (useAuth hook)                                     â”‚
â”‚  â”œâ”€ UI ìƒíƒœ ê´€ë¦¬ (isLoading, error)                            â”‚
â”‚  â”œâ”€ ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì í”¼ë“œë°±                                  â”‚
â”‚  â”œâ”€ useAuthStore.login() í˜¸ì¶œ (ìƒíƒœ ê´€ë¦¬ ê³„ì¸µ)                 â”‚
â”‚  â””â”€ ì„±ê³µ ì‹œ ë¼ìš°íŠ¸ ë³€ê²½ (/core/dashboard)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. State Management Layer (Zustand Store)                       â”‚
â”‚                                                                   â”‚
â”‚  auth.store.ts (useAuthStore)                                   â”‚
â”‚  â”œâ”€ authService.signin() í˜¸ì¶œ (API ì„œë¹„ìŠ¤)                     â”‚
â”‚  â”œâ”€ ì‘ë‹µì—ì„œ í† í° ì¶”ì¶œ                                          â”‚
â”‚  â”œâ”€ localStorage + Cookieì— í† í° ì €ì¥ (7ì¼)                    â”‚
â”‚  â”œâ”€ authService.getCurrentUser() í˜¸ì¶œ                           â”‚
â”‚  â”œâ”€ ê¸€ë¡œë²Œ ìƒíƒœ ì—…ë°ì´íŠ¸:                                       â”‚
â”‚  â”‚  - accessToken, refreshToken                                 â”‚
â”‚  â”‚  - user, isAuthenticated                                     â”‚
â”‚  â””â”€ UI Logic ê³„ì¸µìœ¼ë¡œ ê²°ê³¼ ë°˜í™˜                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. API Service Layer (Service)                                  â”‚
â”‚                                                                   â”‚
â”‚  auth.service.ts                                                â”‚
â”‚  â”œâ”€ GraphQL ë®¤í…Œì´ì…˜ (SIGNIN) ì‹¤í–‰                             â”‚
â”‚  â”‚  â””â”€ apolloClient.mutate()                                    â”‚
â”‚  â”œâ”€ GraphQL ì‘ë‹µ ì²˜ë¦¬ (camelCase)                              â”‚
â”‚  â”œâ”€ âœ… ì§ì ‘ ë°˜í™˜ (íƒ€ì… ë³€í™˜ ì—†ìŒ)                               â”‚
â”‚  â”œâ”€ GraphQL ì—ëŸ¬ ì²˜ë¦¬                                          â”‚
â”‚  â””â”€ Service ê³„ì¸µìœ¼ë¡œ TokenResponse ë°˜í™˜                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. GraphQL Layer (GraphQL)                                      â”‚
â”‚                                                                   â”‚
â”‚  mutations.ts (SIGNIN ë®¤í…Œì´ì…˜)                                 â”‚
â”‚  â”œâ”€ ì¿¼ë¦¬ ì •ë³´:                                                  â”‚
â”‚  â”‚  mutation Signin($input: SigninInput!) {                      â”‚
â”‚  â”‚    signin(input: $input) {                                   â”‚
â”‚  â”‚      accessToken                                             â”‚
â”‚  â”‚      refreshToken                                            â”‚
â”‚  â”‚      tokenType                                               â”‚
â”‚  â”‚      expiresIn                                               â”‚
â”‚  â”‚    }                                                         â”‚
â”‚  â”‚  }                                                           â”‚
â”‚  â””â”€ Apollo Clientê°€ ìë™ ì‹¤í–‰                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Backend GraphQL API                                          â”‚
â”‚                                                                   â”‚
â”‚  Backend (Python/Strawberry)                                    â”‚
â”‚  â”œâ”€ ì‚¬ìš©ì ì¡°íšŒ (username)                                      â”‚
â”‚  â”œâ”€ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦                                               â”‚
â”‚  â”œâ”€ ë¡œê·¸ì¸ ë¡œê·¸ ê¸°ë¡                                            â”‚
â”‚  â”œâ”€ ì„¸ì…˜ ìƒì„± (7ì¼)                                            â”‚
â”‚  â”œâ”€ JWT í† í° ë°œê¸‰                                              â”‚
â”‚  â””â”€ TokenResponse ë°˜í™˜                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
              ì‘ë‹µì´ ì—­ìˆœìœ¼ë¡œ ì „íŒŒë¨
                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
```

---

## ğŸ“‹ ê° ê³„ì¸µì˜ ì—­í• 

### 1ï¸âƒ£ Components (UI ê³„ì¸µ)

**íŒŒì¼**: `components/*.tsx`

**ì—­í• **: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë Œë”ë§

- ì…ë ¥ í¼, ë²„íŠ¼, ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
- ì‚¬ìš©ì ì…ë ¥ ìˆ˜ì§‘
- useAuth() í›… í˜¸ì¶œë¡œ ë¡œì§ ìœ„ì„

**íŠ¹ì§•**:

- ìƒíƒœ ê´€ë¦¬ ë¶ˆí•„ìš” (useAuthì—ì„œ ì œê³µ)
- ìˆœìˆ˜ UI ì»´í¬ë„ŒíŠ¸ (ì¬ì‚¬ìš© ê°€ëŠ¥)
- GraphQL ë˜ëŠ” API êµ¬ì¡° ëª°ë¼ë„ ë¨

**íŒŒì¼ë“¤**:

- `signin-form.tsx` - ë¡œê·¸ì¸ í¼
- `signup-form.tsx` - íšŒì›ê°€ì… í¼
- `forgot-password-form.tsx` - ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
- `reset-password-form.tsx` - ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •

---

### 2ï¸âƒ£ Hooks (UI Logic ê³„ì¸µ)

**íŒŒì¼**: `hooks/*.ts`

**ì—­í• **: UI ë¡œì§ê³¼ ìƒíƒœ ê´€ë¦¬ ì—°ê²°

- ì»´í¬ë„ŒíŠ¸ì˜ UI ìƒíƒœ ê´€ë¦¬ (isLoading, error)
- useAuthStoreì™€ í†µì‹  (ìƒíƒœ ì €ì¥/ì½ê¸°)
- ë¼ìš°íŠ¸ ë³€ê²½ (useRouter)
- ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì í”¼ë“œë°±

**íŠ¹ì§•**:

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ëª¨ë¦„ (authService ì„¸ë¶€ì‚¬í•­)
- Store ê³„ì¸µì„ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ API í˜¸ì¶œ
- UI ì¤‘ì‹¬ì˜ ì—ëŸ¬ ì²˜ë¦¬

**íŒŒì¼ë“¤**:

- `use-auth.ts` - signin, signup, logout, clearError
- `use-reset-password.ts` - forgotPassword, resetPassword

---

### 3ï¸âƒ£ Stores (State Management ê³„ì¸µ)

**íŒŒì¼**: `stores/auth.store.ts`

**ì—­í• **: ê¸€ë¡œë²Œ ì¸ì¦ ìƒíƒœ ê´€ë¦¬ (Zustand)

- ì¸ì¦ ìƒíƒœ ì €ì¥ (user, tokens, isAuthenticated)
- localStorage + Cookieì— í† í° ì €ì¥
- authServiceë¥¼ í˜¸ì¶œí•˜ì—¬ API í†µì‹ 
- ë‹¤ë¥¸ ê³„ì¸µì— ìƒíƒœ ë³€ê²½ ì•Œë¦¼

**íŠ¹ì§•**:

- **Zustand**: ê°„ë‹¨í•˜ê³  ê°€ë²¼ìš´ ìƒíƒœ ê´€ë¦¬
- **persist ë¯¸ë“¤ì›¨ì–´**: ìƒíƒœë¥¼ localStorageì— ìë™ ì €ì¥
- **ì•¡ì…˜ ì •ì˜**: login, logout, register, refreshAuth ë“±

**ìƒíƒœ**:

```typescript
{
  user: User | null,           // í˜„ì¬ ì‚¬ìš©ì ì •ë³´
  accessToken: string | null,   // JWT Access Token
  refreshToken: string | null,  // JWT Refresh Token
  isAuthenticated: boolean,     // ë¡œê·¸ì¸ ìƒíƒœ
  isLoading: boolean,           // ë¡œë”© ìƒíƒœ
}
```

**ì•¡ì…˜**:

- `signin()` - ë¡œê·¸ì¸
- `signup()` - íšŒì›ê°€ì… (ìë™ ë¡œê·¸ì¸)
- `logout()` - ë¡œê·¸ì•„ì›ƒ
- `refreshAuth()` - í† í° ê°±ì‹ 
- `setTokens()` - í† í° ì„¤ì •
- `clearAuth()` - ì¸ì¦ ì •ë³´ ì´ˆê¸°í™”

---

### 4ï¸âƒ£ Services (API ì„œë¹„ìŠ¤ ê³„ì¸µ)

**íŒŒì¼**: `services/auth.service.ts`

**ì—­í• **: GraphQL API í†µì‹  ì¶”ìƒí™”

- GraphQL ë®¤í…Œì´ì…˜/ì¿¼ë¦¬ ì‹¤í–‰ (apolloClient)
- GraphQL ì‘ë‹µ â†” REST API íƒ€ì… ë³€í™˜
- ì—ëŸ¬ ì²˜ë¦¬ (GraphQL ì—ëŸ¬)

**íŠ¹ì§•**:

- **ì¶”ìƒí™”**: ServiceëŠ” GraphQL í†µì‹ ë§Œ ë‹´ë‹¹
- **GraphQL-Native**: camelCase í•„ë“œ ì§ì ‘ ì‚¬ìš© (íƒ€ì… ë³€í™˜ ì—†ìŒ)
- **ê¹”ë”í•œ ì¸í„°í˜ì´ìŠ¤**: GraphQL ì‘ë‹µì„ íƒ€ì…ì— ë§ê²Œ ë°˜í™˜

**ë©”ì„œë“œë“¤**:

```typescript
signin(data: SigninRequest): Promise<TokenResponse>
signup(data: SignupRequest): Promise<User>
getCurrentUser(): Promise<User>
refreshToken(refreshToken: string): Promise<TokenResponse>
logout(): Promise<void>
changePassword(currentPassword, newPassword): Promise<void>
forgotPassword(data: ForgotPasswordRequest): Promise<ForgotPasswordResponse>
resetPassword(data: ResetPasswordRequest): Promise<ResetPasswordResponse>
```

---

### 5ï¸âƒ£ GraphQL (GraphQL ê³„ì¸µ)

**íŒŒì¼**: `graphql/*.ts`

**ì—­í• **: GraphQL ì¿¼ë¦¬/ë®¤í…Œì´ì…˜ ì •ì˜

- ë°±ì—”ë“œ GraphQL ìŠ¤í‚¤ë§ˆì™€ ë§¤ì¹­
- Apollo Clientë¡œ ì‹¤í–‰ë  ì¿¼ë¦¬ ì •ì˜
- TypeScript íƒ€ì… ì •ì˜

**íŠ¹ì§•**:

- **ê¸°ìˆ  ì¢…ì†ì„±**: Apollo Client, graphql-tag
- **ë°±ì—”ë“œ ì˜ì¡´ì„±**: GraphQL ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ ìˆ˜ì • í•„ìš”

**íŒŒì¼ë“¤**:

- `mutations.ts` - signin, signup, refreshToken, logout, changePassword, forgotPassword, resetPassword
- `queries.ts` - me (í˜„ì¬ ì‚¬ìš©ì)
- `use-auth.hooks.ts` - Apollo Hooks ë˜í¼ (useSignin, useSignup ë“±)

---

### 6ï¸âƒ£ Providers (ì´ˆê¸°í™” ê³„ì¸µ)

**íŒŒì¼**: `providers/auth-provider.tsx`

**ì—­í• **: ì•± ì‹œì‘ ì‹œ ì¸ì¦ ìƒíƒœ ë³µì›

- ì¿ í‚¤ì—ì„œ í† í° í™•ì¸
- í† í°ì´ ìˆìœ¼ë©´ ìƒíƒœ ë³µì›
- í† í°ì´ ì—†ìœ¼ë©´ ì´ˆê¸°í™”

**íë¦„**:

1. ì•± ë¡œë“œ
2. AuthProvider ë§ˆìš´íŠ¸
3. useEffectì—ì„œ initAuth() ì‹¤í–‰
4. getCookie("access_token") í™•ì¸
5. í† í°ì´ ìˆìœ¼ë©´ refreshAuth() í˜¸ì¶œ
6. ì‚¬ìš©ì ì •ë³´ ê°±ì‹ 

---

### 7ï¸âƒ£ Types (íƒ€ì… ì •ì˜)

**íŒŒì¼**: `types/*.ts`

**ì—­í• **: TypeScript íƒ€ì… ì •ì˜ (REST API í˜¸í™˜)

- `auth.types.ts` - ë¡œê·¸ì¸/íšŒì›ê°€ì… íƒ€ì…
- `reset-password.types.ts` - ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • íƒ€ì…

**íŠ¹ì§•**:

- snake_case (REST API í˜¸í™˜ì„±)
- GraphQL ì‘ë‹µì€ Serviceì—ì„œ ë³€í™˜í•¨

---

## ğŸ”— íŒŒì¼ ì˜ì¡´ì„± ë§µ

```
Components (UI)
    â†“ (useAuth, useResetPassword)
Hooks (UI Logic)
    â†“ (useAuthStore)
Stores (State)
    â†“ (authService)
Services (API)
    â†“ (apolloClient.mutate)
GraphQL (Queries/Mutations)
    â†“
Backend GraphQL API
```

**ì—­ë°©í–¥ ë°ì´í„° íë¦„**:
Backend API â†’ GraphQL â†’ Service â†’ Store â†’ Hook â†’ Component (UI ì—…ë°ì´íŠ¸)

---

## âŒ ë¶ˆí•„ìš”í•œ íŒŒì¼ ë¶„ì„

### í˜„ì¬ ìƒí™©

#### âœ… í•„ìš”í•œ íŒŒì¼ë“¤

1. **graphql/mutations.ts** - GraphQL ë®¤í…Œì´ì…˜ ì •ì˜ (í•„ìˆ˜)
2. **graphql/queries.ts** - GraphQL ì¿¼ë¦¬ ì •ì˜ (í•„ìˆ˜)
3. **graphql/use-auth.hooks.ts** - Apollo Hooks ë˜í¼ (ì„ íƒì‚¬í•­, í˜„ì¬ ë¯¸ì‚¬ìš©)
4. **graphql/index.ts** - export í—ˆë¸Œ (í•„ìˆ˜)
5. **services/auth.service.ts** - API ì„œë¹„ìŠ¤ (í•„ìˆ˜, GraphQL ê¸°ë°˜)
6. **stores/auth.store.ts** - ìƒíƒœ ê´€ë¦¬ (í•„ìˆ˜)
7. **hooks/use-auth.ts** - UI Logic (í•„ìˆ˜)
8. **hooks/use-reset-password.ts** - ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • Logic (í•„ìˆ˜)
9. **providers/auth-provider.tsx** - ì´ˆê¸°í™” (í•„ìˆ˜)
10. **components/** - UI ì»´í¬ë„ŒíŠ¸ (í•„ìˆ˜)
11. **types/** - íƒ€ì… ì •ì˜ (í•„ìˆ˜)

#### âš ï¸ ê²€í†  í•„ìš”í•œ íŒŒì¼ë“¤

### ğŸ” `graphql/use-auth.hooks.ts` - ì¤‘ë³µ ê°€ëŠ¥ì„±

**í˜„ì¬ ìƒí™©**:

- `graphql/use-auth.hooks.ts` - Apollo Hooks ì§ì ‘ ì‚¬ìš© (useSignin, useSignup ë“±)
- `hooks/use-auth.ts` - UI Logic Hook (useAuth)

**ë¬¸ì œì **:

```
ë‘ ê³„ì¸µì´ ìˆìŒ:
- Apollo Hooks ê³„ì¸µ: useSignin (graphql/)
- UI Logic ê³„ì¸µ: useAuth (hooks/)

í˜„ì¬ ComponentëŠ” useAuthë§Œ ì‚¬ìš©í•˜ê³  ìˆìŒ.
```

**ë¶„ì„**:

| íŒŒì¼                        | ì‚¬ìš© ì—¬ë¶€ | ìš©ë„                 | ë³´ê´€ ì—¬ë¶€   |
| --------------------------- | --------- | -------------------- | ----------- |
| `graphql/use-auth.hooks.ts` | âŒ ë¯¸ì‚¬ìš© | Apollo ì§ì ‘ í˜¸ì¶œìš©   | âš ï¸ ì„ íƒì‚¬í•­ |
| `hooks/use-auth.ts`         | âœ… ì‚¬ìš©   | UI ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš© | âœ… í•„ìˆ˜     |

**ê²°ë¡ **:

- `graphql/use-auth.hooks.ts`ëŠ” **ë¯¸ì‚¬ìš© ìƒíƒœ**
- ìš©ë„: ì»´í¬ë„ŒíŠ¸ì—ì„œ Apolloë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ
- ê¶Œì¥: **ì œê±°í•˜ê±°ë‚˜ ìœ ì§€** (ì˜ˆì‹œ ì½”ë“œë¡œ ë‚¨ê²¨ë‘¬ë„ ë¨)

---

## ğŸ“Š ì•„í‚¤í…ì²˜ ë ˆì´ì–´ë§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        UI Components (React)                 â”‚
â”‚  LoginForm, SignupForm, ForgotPasswordForm  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ useAuth, useResetPassword
                         â”‚ (State + Logic)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       UI Logic Hooks (React Hooks)          â”‚
â”‚  use-auth.ts, use-reset-password.ts         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ useAuthStore (Zustand)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    State Management (Zustand Store)         â”‚
â”‚  auth.store.ts                              â”‚
â”‚  (user, tokens, isAuthenticated, actions)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ authService
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      API Service Layer (Abstraction)        â”‚
â”‚  auth.service.ts                            â”‚
â”‚  (REST API í˜¸í™˜ ì¸í„°í˜ì´ìŠ¤)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ apolloClient.mutate
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GraphQL Operations Layer            â”‚
â”‚  mutations.ts, queries.ts                   â”‚
â”‚  (GraphQL ì¿¼ë¦¬/ë®¤í…Œì´ì…˜ ì •ì˜)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTP
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Backend GraphQL API                    â”‚
â”‚  (Python/Strawberry)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ê¶Œì¥ì‚¬í•­

### ìœ ì§€í•´ì•¼ í•  êµ¬ì¡°

âœ… í˜„ì¬ êµ¬ì¡°ëŠ” **Feature-Driven Architecture** íŒ¨í„´ì„ ì˜ ë”°ë¥´ê³  ìˆìŒ
âœ… ê³„ì¸µ ë¶„ë¦¬ê°€ ëª…í™•í•˜ê³  ê° ê³„ì¸µì˜ ì±…ì„ì´ ë¶„ëª…í•¨
âœ… GraphQL ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ê¹”ë”í•˜ê²Œ ë˜ì–´ ìˆìŒ

### ê°œì„  ê°€ëŠ¥ ë¶€ë¶„

#### 1. `graphql/use-auth.hooks.ts` ì •ë¦¬

**ì˜µì…˜ A**: ì œê±° (í˜„ì¬ ë¯¸ì‚¬ìš©)

```
graphql/use-auth.hooks.ts ì‚­ì œ
- í˜„ì¬ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ë„ ì‚¬ìš© ì•ˆ í•¨
- hooks/use-auth.tsë¡œ ì¶©ë¶„
```

**ì˜µì…˜ B**: ìœ ì§€ (ì°¸ê³ ìš© ë˜ëŠ” í–¥í›„ ì‚¬ìš©)

```
í˜„ì¬ ìœ ì§€
- Apolloë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê°œë°œìë¥¼ ìœ„í•œ ì˜ˆì‹œ
- í–¥í›„ í•„ìš”ì‹œ ì‚¬ìš© ê°€ëŠ¥
```

**ì¶”ì²œ**: **ì˜µì…˜ B (ìœ ì§€)** - ë¬¸ì„œí™” ëœ ì˜ˆì‹œëŠ” ìœ ìš©í•¨

#### 2. ë¬¸ì„œ ì¶”ê°€

âœ… ì´ë¯¸ ì™„ë£Œë¨:

- `GRAPHQL_MIGRATION.md` - GraphQL ë§ˆì´ê·¸ë ˆì´ì…˜ ë¬¸ì„œ
- `ARCHITECTURE.md` (ì´ ë¬¸ì„œ)

#### 3. íƒ€ì… ì¼ê´€ì„±

âœ… GraphQL (camelCase) â†” Serviceì—ì„œ ìë™ ë³€í™˜ (snake_case)
âœ… ìƒìœ„ ê³„ì¸µì€ ë³€í™˜ ê±±ì • ì•ˆ í•´ë„ ë¨

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ í¬ì¸íŠ¸

ê° ê³„ì¸µì„ í…ŒìŠ¤íŠ¸í•  ë•Œ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

### Unit Test

- [ ] `services/auth.service.ts` - ê° ë©”ì„œë“œ í…ŒìŠ¤íŠ¸
- [ ] `stores/auth.store.ts` - Store ì•¡ì…˜ í…ŒìŠ¤íŠ¸
- [ ] `hooks/use-auth.ts` - Hook ë¡œì§ í…ŒìŠ¤íŠ¸

### Integration Test

- [ ] Component â†’ Hook â†’ Store â†’ Service ì „ì²´ íë¦„
- [ ] GraphQL ì‘ë‹µ ì²˜ë¦¬
- [ ] ì—ëŸ¬ ì²˜ë¦¬

### E2E Test

- [ ] ë¡œê·¸ì¸ íë¦„ (form ì…ë ¥ â†’ í† í° ì €ì¥ â†’ ëŒ€ì‹œë³´ë“œ ì´ë™)
- [ ] ë¡œê·¸ì•„ì›ƒ íë¦„
- [ ] í† í° ê°±ì‹ 
- [ ] í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ ì„¸ì…˜ ë³µì›

---

## ğŸ“ ê²°ë¡ 

### íŒŒì¼ í•„ìš”ì„± ìš”ì•½

| íŒŒì¼/í´ë”                   | í•„ìˆ˜ | í˜„ì¬ ìƒíƒœ | ë¹„ê³                           |
| --------------------------- | ---- | --------- | ----------------------------- |
| components/                 | âœ…   | í•„ìˆ˜      | UI ë Œë”ë§                     |
| hooks/use-auth.ts           | âœ…   | í•„ìˆ˜      | UI Logic (ì‚¬ìš©ì¤‘)             |
| hooks/use-reset-password.ts | âœ…   | í•„ìˆ˜      | ë¹„ë°€ë²ˆí˜¸ Logic (ì‚¬ìš©ì¤‘)       |
| stores/auth.store.ts        | âœ…   | í•„ìˆ˜      | ìƒíƒœ ê´€ë¦¬                     |
| services/auth.service.ts    | âœ…   | í•„ìˆ˜      | API Service (GraphQL)         |
| graphql/mutations.ts        | âœ…   | í•„ìˆ˜      | GraphQL ì •ì˜                  |
| graphql/queries.ts          | âœ…   | í•„ìˆ˜      | GraphQL ì •ì˜                  |
| graphql/use-auth.hooks.ts   | âš ï¸   | ì„ íƒ      | Apollo Hooks (ë¯¸ì‚¬ìš©, ì°¸ê³ ìš©) |
| providers/auth-provider.tsx | âœ…   | í•„ìˆ˜      | ì´ˆê¸°í™”                        |
| types/                      | âœ…   | í•„ìˆ˜      | íƒ€ì… ì •ì˜                     |

### ë¶ˆí•„ìš”í•œ íŒŒì¼

**âŒ ì—†ìŒ** - ëª¨ë“  íŒŒì¼ì´ ëª©ì ì´ ìˆìŒ

ë‹¨, `graphql/use-auth.hooks.ts`ëŠ”:

- **í˜„ì¬ ë¯¸ì‚¬ìš©** (useAuth hookìœ¼ë¡œ ì¶©ë¶„)
- **ì œê±° ê°€ëŠ¥** (í•˜ì§€ë§Œ ë¬¸ì„œí™” ì˜ˆì‹œë¡œ ìœ ì§€ ê¶Œì¥)

### ì•„í‚¤í…ì²˜ í‰ê°€

âœ… **ì¢‹ì€ ì **:

- ê³„ì¸µ ë¶„ë¦¬ê°€ ëª…í™•
- ê° ê³„ì¸µì´ ë…ë¦½ì 
- GraphQL ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ê¹”ë”
- íƒ€ì… ì•ˆì „ì„±
- í™•ì¥ì„± ì¢‹ìŒ

âš ï¸ **ê°œì„  ê°€ëŠ¥**:

- apollo/hooks.ts í™œìš©ë„ ëª…í™•íˆ í•˜ê¸°
- ë” ë§ì€ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì¶”ê°€

ğŸ¯ **ì¢…í•© í‰ê°€**: **Aë“±ê¸‰ ì•„í‚¤í…ì²˜**
