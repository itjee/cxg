# API 태그 형식 변경

**날짜**: 2025-10-26 18:50:00 KST  
**작성자**: Claude (AI Assistant)  
**유형**: 개선  
**컴포넌트**: Backend API - OpenAPI Tags

## 개요

OpenAPI 태그 형식을 사용자 요구사항에 맞게 수정했습니다.
`{시스템명}-{스키마명}-{엔티티명} ({시스템영문}>{스키마영문}>{엔티티영문})` 구조로 변경하여 공백 제거 및 일관성을 확보했습니다.

## 변경 내용

### 변경 전
```
테넌트 시스템 - 관리 - 통화 (Tenant > ADM > Currencies)
관리자 시스템 - 인증관리 - 사용자 (Manager > IDAM > Users)
```

### 변경 후
```
테넌트시스템-관리-통화 (Tenant>ADM>Currencies)
관리자시스템-인증관리-사용자 (Manager>IDAM>Users)
```

## 형식 규칙

### 한글 부분
- 공백 제거
- 하이픈(`-`)으로 구분
- 형식: `{시스템명}-{스키마명}-{엔티티명}`
- 예: `테넌트시스템-관리-통화`

### 영문 부분 (괄호 안)
- 공백 제거
- 꺾쇠(`>`)로 구분
- 형식: `({시스템영문}>{스키마영문}>{엔티티영문})`
- 예: `(Tenant>ADM>Currencies)`

### 복합 단어 처리
- 영문은 PascalCase 사용
- 예: 
  - `Code Groups` → `CodeGroups`
  - `Payment Terms` → `PaymentTerms`
  - `Journal Entries` → `JournalEntries`
  - `Sales Orders` → `SalesOrders`

## 적용된 태그 예시

### 관리자 시스템 (Manager)
```
관리자시스템-인증-인증 (Manager>Auth>Auth)
관리자시스템-인증관리-사용자 (Manager>IDAM>Users)
관리자시스템-인증관리-역할 (Manager>IDAM>Roles)
관리자시스템-인증관리-권한 (Manager>IDAM>Permissions)
관리자시스템-인증관리-사용자역할 (Manager>IDAM>UserRoles)
관리자시스템-인증관리-역할권한 (Manager>IDAM>RolePermissions)
관리자시스템-테넌트관리-테넌트 (Manager>TNNT>Tenants)
관리자시스템-청구관리-요금제 (Manager>BILL>Plans)
```

### 테넌트 시스템 (Tenant)
```
테넌트시스템-관리-통화 (Tenant>ADM>Currencies)
테넌트시스템-관리-공통코드그룹 (Tenant>ADM>CodeGroups)
테넌트시스템-관리-공통코드 (Tenant>ADM>Codes)
테넌트시스템-고객관리-거래처 (Tenant>CRM>Partners)
테넌트시스템-고객관리-활동 (Tenant>CRM>Activities)
테넌트시스템-재무관리-계정 (Tenant>FIM>Accounts)
테넌트시스템-구매관리-발주 (Tenant>PSM>PurchaseOrders)
테넌트시스템-판매관리-주문 (Tenant>SRM>SalesOrders)
테넌트시스템-워크플로우관리-워크플로우 (Tenant>LWM>Workflows)
```

## 변경된 파일

```
src/main.py
  - tags_metadata 전체 태그 형식 변경 (65개)
  
src/routers/tenants/v1.py
  - 18개 router의 태그 형식 변경
```

## 장점

1. **일관성**: 모든 태그가 동일한 형식 사용
2. **가독성**: 공백 제거로 더 깔끔한 표시
3. **파싱 용이**: 구분자가 명확하여 프로그래밍 방식으로 파싱 쉬움
4. **계층 명확**: 하이픈과 꺾쇠로 계층 구조 명확히 표현

## 테스트

```bash
cd apps/backend-api
source .venv/bin/activate
python -c "from src.main import app; print([tag['name'] for tag in app.openapi_tags[:5]])"
```

결과:
```
['기본', 
 '관리자시스템-인증-인증 (Manager>Auth>Auth)', 
 '관리자시스템-인증관리-사용자 (Manager>IDAM>Users)', 
 '관리자시스템-인증관리-역할 (Manager>IDAM>Roles)', 
 '관리자시스템-인증관리-권한 (Manager>IDAM>Permissions)']
```

## 결론

API 태그 형식이 요구사항에 맞게 수정되어 더욱 일관되고 명확해졌습니다. 
Swagger UI에서 깔끔하게 표시되며, 프로그래밍 방식으로 파싱하기도 쉬워졌습니다.
