# ë°°í¬ (Deployment)

ConexGrow ì‹œìŠ¤í…œì˜ ë°°í¬ ê°€ì´ë“œ, ì²´í¬ë¦¬ìŠ¤íŠ¸, ìš´ì˜ ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ“š ì£¼ìš” ë¬¸ì„œ

### ë°°í¬ ì „ ì¤€ë¹„
- ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš
- í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- ë³´ì•ˆ ê²€ì¦

### ë°°í¬ í”„ë¡œì„¸ìŠ¤

1. **ê°œë°œ í™˜ê²½ ê²€ì¦**
   - [ ] ë¡œì»¬ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
   - [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í†µê³¼
   - [ ] í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼

2. **ìŠ¤í…Œì´ì§• ë°°í¬**
   - [ ] ë¬´ì¤‘ë‹¨ ë°°í¬ í…ŒìŠ¤íŠ¸
   - [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
   - [ ] ë³´ì•ˆ ê²€ì‚¬

3. **í”„ë¡œë•ì…˜ ë°°í¬**
   - [ ] ë°±ì—… ì™„ë£Œ
   - [ ] Blue-Green ë°°í¬ ê³„íš
   - [ ] ëª¨ë‹ˆí„°ë§ ì¤€ë¹„
   - [ ] ë¡¤ë°± ê³„íš ìˆ˜ë¦½

## ğŸ—‚ï¸ ë°°í¬ í™˜ê²½

### ê°œë°œ (Development)
```
DATABASE_URL=postgresql://dev:dev@localhost:5432/tnnt_db_dev
MGMT_DATABASE_URL=postgresql://dev:dev@localhost:5432/mgmt_db_dev
```

### ìŠ¤í…Œì´ì§• (Staging)
```
DATABASE_URL=postgresql://user@staging-db/tnnt_db_staging
MGMT_DATABASE_URL=postgresql://user@staging-db/mgmt_db_staging
```

### í”„ë¡œë•ì…˜ (Production)
```
DATABASE_URL=postgresql://user@prod-db/tnnt_db_prod
MGMT_DATABASE_URL=postgresql://user@prod-db/mgmt_db_prod
```

## ğŸš€ ë°°í¬ ì „ëµ

### ë¬´ì¤‘ë‹¨ ë°°í¬ (Blue-Green Deployment)

```
1. Blue í™˜ê²½ (í˜„ì¬ ìš´ì˜)
   â†“
2. Green í™˜ê²½ ì¤€ë¹„
   - ìƒˆ ì½”ë“œ ë°°í¬
   - ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
   - í…ŒìŠ¤íŠ¸ ì‹¤í–‰
   â†“
3. íŠ¸ë˜í”½ ì „í™˜
   - ë¡œë“œ ë°¸ëŸ°ì„œ ë³€ê²½
   â†“
4. ë¡¤ë°± ì¤€ë¹„
   - ì´ì „ í™˜ê²½ ìœ ì§€ (ì¦‰ì‹œ ë¡¤ë°± ê°€ëŠ¥)
```

## ğŸ“‹ ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Pre-Deployment
- [ ] ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ê²€ì¦
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
- [ ] í™˜ê²½ ë³€ìˆ˜ ê²€ì¦
- [ ] SSL ì¸ì¦ì„œ í™•ì¸

### Deployment
- [ ] ë¼ìš´ë“œ 1: 10% íŠ¸ë˜í”½
  - [ ] ì—ëŸ¬ìœ¨ ëª¨ë‹ˆí„°ë§
  - [ ] ì„±ëŠ¥ ì§€í‘œ í™•ì¸

- [ ] ë¼ìš´ë“œ 2: 50% íŠ¸ë˜í”½
  - [ ] ì¶”ê°€ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
  - [ ] ë¶€í•˜ í…ŒìŠ¤íŠ¸

- [ ] ë¼ìš´ë“œ 3: 100% íŠ¸ë˜í”½
  - [ ] ëª¨ë‹ˆí„°ë§ ê³„ì†
  - [ ] ì§€í‘œ ì¶”ì 

### Post-Deployment
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ í™•ì¸
- [ ] ì—ëŸ¬ ë¡œê·¸ ê²€í† 
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘
- [ ] ì„±ëŠ¥ ë¦¬í¬íŠ¸ ì‘ì„±

## ğŸ”„ ë¡¤ë°± ê³„íš

### ìë™ ë¡¤ë°± (Automatic)
- ì—ëŸ¬ìœ¨ > 5% (5ë¶„ ì§€ì†)
- CPU ì‚¬ìš©ë¥  > 90% (10ë¶„ ì§€ì†)
- ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  > 85% (10ë¶„ ì§€ì†)

### ìˆ˜ë™ ë¡¤ë°± (Manual)
```bash
# ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
./scripts/deploy/rollback.sh

# ë˜ëŠ” Dockerì˜ ê²½ìš°
docker-compose down
docker-compose -f docker-compose.v1.yml up -d
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ì£¼ìš” ì§€í‘œ
- **Availability**: 99.9% ì´ìƒ
- **Response Time**: p99 < 1000ms
- **Error Rate**: < 0.1%
- **CPU Usage**: < 70%
- **Memory Usage**: < 80%

### ì•Œë¦¼ ì„¤ì •
- ì—ëŸ¬ìœ¨ ì¦ê°€ ì‹œ ì•Œë¦¼
- ì‘ë‹µ ì‹œê°„ ì¦ê°€ ì‹œ ì•Œë¦¼
- ë¦¬ì†ŒìŠ¤ ë¶€ì¡± ì‹œ ì•Œë¦¼

## ğŸ” ë³´ì•ˆ ì²´í¬

### ë°°í¬ ì „ ë³´ì•ˆ ê²€ì‚¬
- [ ] ì˜ì¡´ì„± ì·¨ì•½ì  ê²€ì‚¬ (`npm audit`)
- [ ] ì •ì  ë¶„ì„ (`eslint`, `mypy`)
- [ ] OWASP Top 10 ê²€ì‚¬
- [ ] SQL Injection ë°©ì§€ í™•ì¸
- [ ] XSS ë°©ì§€ í™•ì¸
- [ ] CSRF í† í° í™•ì¸

### ëŸ°íƒ€ì„ ë³´ì•ˆ
- [ ] WAF (Web Application Firewall) ì„¤ì •
- [ ] DDoS ë°©ì–´ í™œì„±í™”
- [ ] ì†ë„ ì œí•œ (Rate Limiting)
- [ ] IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### ë°±ì—”ë“œ
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ í™•ì¸
- [ ] ìºì‹œ ì „ëµ êµ¬í˜„
- [ ] API ì‘ë‹µ ìµœì í™”
- [ ] ë¹„ë™ê¸° ì²˜ë¦¬ ê²€ì¦

### í”„ë¡ íŠ¸ì—”ë“œ
- [ ] ë²ˆë“¤ í¬ê¸° ìµœì í™”
- [ ] ì´ë¯¸ì§€ ì••ì¶•
- [ ] CSS/JS ìµœì†Œí™”
- [ ] Code Splitting í™•ì¸

## ğŸ”— ë°°í¬ ë„êµ¬

### Docker
```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t conexgrow:latest .

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

### Kubernetes (í–¥í›„)
```bash
# ë°°í¬
kubectl apply -f k8s/

# ë¡¤ì•„ì›ƒ ìƒíƒœ í™•ì¸
kubectl rollout status deployment/conexgrow

# ë¡¤ë°±
kubectl rollout undo deployment/conexgrow
```

## ğŸ“ ì§€ì›

### ë°°í¬ ë¬¸ì œ ë°œìƒ ì‹œ
1. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ í™•ì¸
2. ì—ëŸ¬ ë¡œê·¸ ê²€í† 
3. ìµœê·¼ ë³€ê²½ì‚¬í•­ í™•ì¸
4. í•„ìš”ì‹œ ë¡¤ë°± ì‹¤í–‰

### ì—°ë½ì²˜
- ìš´ì˜íŒ€: ops@conexgrow.com
- ê¸°ìˆ ì§€ì›: support@conexgrow.com
- ê¸´ê¸‰: emergency@conexgrow.com

## ğŸ“– ê´€ë ¨ ë¬¸ì„œ

- [ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜](../03_database/MIGRATION_EXECUTION_GUIDE.md)
- [ì•„í‚¤í…ì²˜ ê°œìš”](../02_architecture/)
- [í”„ë¡œë•ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸](./DEPLOYMENT_CHECKLIST.md)

## ğŸ”— ì™¸ë¶€ ì°¸ê³ 

- [Docker ë¬¸ì„œ](https://docs.docker.com/)
- [Kubernetes ë¬¸ì„œ](https://kubernetes.io/docs/)
- [AWS ë°°í¬ ê°€ì´ë“œ](https://aws.amazon.com/getting-started/)
