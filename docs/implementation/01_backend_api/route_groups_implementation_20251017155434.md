# Tenants Web - Route Groups êµ¬ì¡° êµ¬í˜„ ì™„ë£Œ

**ë‚ ì§œ**: 2025-10-17  
**ì•„í‚¤í…ì²˜**: í†µí•© Next.js ì•± + Route Groups

## êµ¬í˜„ ê°œìš”

CXG Platform Tenants Webì„ Route Groupsë¥¼ ì‚¬ìš©í•˜ì—¬ **í™ë³´ ì‚¬ì´íŠ¸**, **ì¸ì¦**, **ì—…ë¬´ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ëª…í™•íˆ ë¶„ë¦¬í–ˆìŠµë‹ˆë‹¤.

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
apps/tenants-web/
â””â”€â”€ src/
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ (marketing)/           # ğŸŒ í™ë³´ ì‚¬ì´íŠ¸ (ê³µê°œ)
    â”‚   â”‚   â”œâ”€â”€ layout.tsx        â†’ ë§ˆì¼€íŒ… ë ˆì´ì•„ì›ƒ (í—¤ë”+í‘¸í„°)
    â”‚   â”‚   â””â”€â”€ page.tsx          â†’ / (í™ˆí˜ì´ì§€)
    â”‚   â”‚
    â”‚   â”œâ”€â”€ (auth)/               # ğŸ” ì¸ì¦ (ê³µê°œ)
    â”‚   â”‚   â”œâ”€â”€ layout.tsx        â†’ ì¸ì¦ ë ˆì´ì•„ì›ƒ (ì‹¬í”Œ)
    â”‚   â”‚   â”œâ”€â”€ login/
    â”‚   â”‚   â”‚   â””â”€â”€ page.tsx      â†’ /login
    â”‚   â”‚   â””â”€â”€ signup/
    â”‚   â”‚       â””â”€â”€ page.tsx      â†’ /signup
    â”‚   â”‚
    â”‚   â”œâ”€â”€ (app)/                # ğŸ’¼ ì—…ë¬´ ì‹œìŠ¤í…œ (ë³´í˜¸ë¨)
    â”‚   â”‚   â”œâ”€â”€ layout.tsx        â†’ ì•± ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°”+í—¤ë”)
    â”‚   â”‚   â””â”€â”€ dashboard/
    â”‚   â”‚       â””â”€â”€ page.tsx      â†’ /dashboard
    â”‚   â”‚
    â”‚   â”œâ”€â”€ layout.tsx            # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
    â”‚   â””â”€â”€ globals.css
    â”‚
    â”œâ”€â”€ middleware.ts             # ğŸ›¡ï¸ ë¼ìš°íŠ¸ ë³´í˜¸
    â””â”€â”€ components/
        â””â”€â”€ ui/                   # shadcn/ui ì»´í¬ë„ŒíŠ¸
```

## URL êµ¬ì¡°

### ê³µê°œ ì˜ì—­ (Public)
```
/ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ í™ˆí˜ì´ì§€ (ë§ˆì¼€íŒ…)
/features â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ê¸°ëŠ¥ ì†Œê°œ (ì˜ˆì •)
/pricing â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ê°€ê²© ì•ˆë‚´ (ì˜ˆì •)
/contact â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë¬¸ì˜í•˜ê¸° (ì˜ˆì •)
```

### ì¸ì¦ (Authentication)
```
/login â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë¡œê·¸ì¸
/signup â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ íšŒì›ê°€ì…
/forgot-password â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° (ì˜ˆì •)
```

### ì—…ë¬´ ì‹œìŠ¤í…œ (Protected)
```
/dashboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ëŒ€ì‹œë³´ë“œ âœ…
/crm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ê³ ê°ê´€ë¦¬ (ì˜ˆì •)
/finance â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì¬ë¬´ê´€ë¦¬ (ì˜ˆì •)
/inventory â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì¬ê³ ê´€ë¦¬ (ì˜ˆì •)
/procurement â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ êµ¬ë§¤ê´€ë¦¬ (ì˜ˆì •)
/sales â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ íŒë§¤ê´€ë¦¬ (ì˜ˆì •)
/workflow â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì›Œí¬í”Œë¡œìš° (ì˜ˆì •)
/settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ì„¤ì • (ì˜ˆì •)
```

## êµ¬í˜„ëœ ê¸°ëŠ¥

### 1. Marketing Layout (í™ë³´ ì‚¬ì´íŠ¸)
- **ë„¤ë¹„ê²Œì´ì…˜ ë°”**
  - ë¡œê³  (CXG Platform)
  - ë©”ë‰´: ê¸°ëŠ¥, ê°€ê²©, ë¬¸ì˜
  - ë¡œê·¸ì¸/íšŒì›ê°€ì… ë²„íŠ¼
- **ë°˜ì‘í˜• ë””ìì¸**
- **Sticky Header**

### 2. Auth Layout (ì¸ì¦)
- **ì¤‘ì•™ ì •ë ¬ ë ˆì´ì•„ì›ƒ**
- **ê·¸ë¼ë°ì´ì…˜ ë°°ê²½** (blue-50 to white)
- **ì¹´ë“œ í˜•ì‹** í¼

### 3. Login Page
- **ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸** ì…ë ¥
- **ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€** ì²´í¬ë°•ìŠ¤
- **ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°** ë§í¬
- **íšŒì›ê°€ì… ë§í¬**
- **ë¡œë”© ìƒíƒœ** ì²˜ë¦¬
- **ì•„ì´ì½˜** (Lucide React)

### 4. Signup Page
- **í•„ìˆ˜ ì •ë³´** ì…ë ¥
  - ì´ë¦„
  - ì´ë©”ì¼
  - íšŒì‚¬ëª…
  - ë¹„ë°€ë²ˆí˜¸
  - ë¹„ë°€ë²ˆí˜¸ í™•ì¸
- **ì•½ê´€ ë™ì˜** ì²´í¬ë°•ìŠ¤
- **ìœ íš¨ì„± ê²€ì‚¬**
- **ë¡œê·¸ì¸ ë§í¬**

### 5. App Layout (ì—…ë¬´ ì‹œìŠ¤í…œ)
- **ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜**
  - 8ê°œ ì£¼ìš” ë©”ë‰´
  - í™œì„± ìƒíƒœ í‘œì‹œ
  - ì•„ì´ì½˜ + í…ìŠ¤íŠ¸
- **ëª¨ë°”ì¼ ë°˜ì‘í˜•**
  - í–„ë²„ê±° ë©”ë‰´
  - ìŠ¬ë¼ì´ë“œ ì‚¬ì´ë“œë°”
- **í—¤ë”**
  - ê²€ìƒ‰ë°”
  - ì•Œë¦¼ ì•„ì´ì½˜
- **ì‚¬ìš©ì ì •ë³´**
  - í”„ë¡œí•„ í‘œì‹œ
  - ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼

### 6. Dashboard Page
- **í†µê³„ ì¹´ë“œ** (4ê°œ)
  - ì´ ê³ ê°: 1,234 (+12.5%)
  - ì›” ë§¤ì¶œ: â‚©45.2M (+8.3%)
  - ì¬ê³  í’ˆëª©: 856 (-3.2%)
  - ì§„í–‰ ì¤‘ì¸ ì£¼ë¬¸: 42 (+23.1%)
- **ìµœê·¼ í™œë™** ëª©ë¡
- **ë¹ ë¥¸ ì‘ì—…** ë²„íŠ¼
- **í™˜ì˜ ë©”ì‹œì§€** (ì‹ ê·œ ì‚¬ìš©ììš©)

### 7. Middleware (ë³´ì•ˆ)
- **ë³´í˜¸ëœ ë¼ìš°íŠ¸** í™•ì¸
  - `/dashboard`, `/crm`, `/finance` ë“±
- **ì¸ì¦ í† í°** ê²€ì¦
- **ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸**
  - ë¯¸ì¸ì¦ â†’ `/login?from=...`
  - ì¸ì¦ ì™„ë£Œ â†’ `/dashboard`

## ê¸°ìˆ  ìƒì„¸

### Route Groups ì¥ì 

```typescript
// âœ… URLì— ê·¸ë£¹ëª…ì´ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
(marketing)/page.tsx  â†’ /
(auth)/login/page.tsx â†’ /login (not /auth/login)
(app)/dashboard/page.tsx â†’ /dashboard (not /app/dashboard)

// âœ… ê° ê·¸ë£¹ë³„ ë…ë¦½ì ì¸ ë ˆì´ì•„ì›ƒ
(marketing)/layout.tsx  # ë§ˆì¼€íŒ… í—¤ë”+í‘¸í„°
(auth)/layout.tsx       # ì‹¬í”Œ ë ˆì´ì•„ì›ƒ
(app)/layout.tsx        # ì‚¬ì´ë“œë°”+í—¤ë”
```

### ë ˆì´ì•„ì›ƒ ê³„ì¸µ

```
Root Layout (ê³µí†µ)
â”œâ”€â”€ (marketing)/layout.tsx
â”‚   â””â”€â”€ / (í™ˆí˜ì´ì§€)
â”œâ”€â”€ (auth)/layout.tsx
â”‚   â”œâ”€â”€ /login
â”‚   â””â”€â”€ /signup
â””â”€â”€ (app)/layout.tsx
    â””â”€â”€ /dashboard
```

### ë¯¸ë“¤ì›¨ì–´ í”Œë¡œìš°

```
Request â†’ Middleware
  â†“
  â”œâ”€ /dashboard (ë³´í˜¸ë¨)
  â”‚  â”œâ”€ ì¸ì¦ âœ“ â†’ Allow
  â”‚  â””â”€ ì¸ì¦ âœ— â†’ /login?from=/dashboard
  â”‚
  â”œâ”€ /login (ì¸ì¦ í˜ì´ì§€)
  â”‚  â”œâ”€ ì¸ì¦ âœ“ â†’ /dashboard
  â”‚  â””â”€ ì¸ì¦ âœ— â†’ Allow
  â”‚
  â””â”€ / (ê³µê°œ)
     â””â”€ Allow
```

## ìƒíƒœ ê´€ë¦¬ (TODO)

### ì¸ì¦ ìƒíƒœ
```typescript
// zustand store
interface AuthState {
  user: User | null;
  isAuthenticated: boolean;
  login: (email: string, password: string) => Promise<void>;
  logout: () => void;
}
```

### API í´ë¼ì´ì–¸íŠ¸
```typescript
// axios + react-query
const { data, isLoading } = useQuery({
  queryKey: ['user'],
  queryFn: fetchUser,
});
```

## ë‹¤ìŒ ë‹¨ê³„

### Phase 1: ì¸ì¦ ì‹œìŠ¤í…œ âœ…
- [x] Login í˜ì´ì§€
- [x] Signup í˜ì´ì§€
- [x] Middleware ì„¤ì •
- [ ] ì‹¤ì œ API ì—°ë™
- [ ] JWT í† í° ê´€ë¦¬
- [ ] Refresh Token

### Phase 2: ê³µí†µ ì»´í¬ë„ŒíŠ¸
- [ ] ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
- [ ] ì…ë ¥ í¼ ì»´í¬ë„ŒíŠ¸
- [ ] ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸
- [ ] í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸
- [ ] ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸

### Phase 3: ì—…ë¬´ ëª¨ë“ˆ
- [ ] CRM ëª¨ë“ˆ
  - [ ] ê³ ê° ëª©ë¡
  - [ ] ê³ ê° ìƒì„¸
  - [ ] ê³ ê° ì¶”ê°€/ìˆ˜ì •
- [ ] Finance ëª¨ë“ˆ
- [ ] Inventory ëª¨ë“ˆ
- [ ] ê¸°íƒ€ ëª¨ë“ˆ

### Phase 4: ë§ˆì¼€íŒ… í˜ì´ì§€
- [ ] /features (ê¸°ëŠ¥ ì†Œê°œ)
- [ ] /pricing (ê°€ê²© ì•ˆë‚´)
- [ ] /contact (ë¬¸ì˜í•˜ê¸°)
- [ ] /about (íšŒì‚¬ ì†Œê°œ)

## ë¹Œë“œ ê²°ê³¼

```
âœ“ ì»´íŒŒì¼ ì„±ê³µ
âœ“ 8ê°œ í˜ì´ì§€ ìƒì„±
  - / (í™ˆ)
  - /login
  - /signup
  - /dashboard
  
âœ“ Middleware ì ìš© (39.2 kB)

Routes:
â—‹ /                    (Static)
â—‹ /dashboard           (Static)
â—‹ /login              (Static)
â—‹ /signup             (Static)
```

## ê°œë°œ ë° ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„
cd apps/tenants-web
pnpm dev
# â†’ http://localhost:8300

# í”„ë¡œë•ì…˜ ë¹Œë“œ
pnpm build

# í”„ë¡œë•ì…˜ ì‹¤í–‰
pnpm start
```

## í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. ê³µê°œ í˜ì´ì§€ ì ‘ê·¼
```
1. http://localhost:8300/ ë°©ë¬¸
2. í™ˆí˜ì´ì§€ í™•ì¸
3. "ë¬´ë£Œë¡œ ì‹œì‘í•˜ê¸°" í´ë¦­
4. â†’ íšŒì›ê°€ì… í˜ì´ì§€ë¡œ ì´ë™
```

### 2. ë¡œê·¸ì¸ í”Œë¡œìš°
```
1. /login ë°©ë¬¸
2. ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
3. "ë¡œê·¸ì¸" í´ë¦­
4. â†’ /dashboardë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

### 3. ë³´í˜¸ëœ ë¼ìš°íŠ¸ ì ‘ê·¼
```
1. ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œ /dashboard ì§ì ‘ ì ‘ê·¼
2. â†’ /login?from=/dashboardë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
3. ë¡œê·¸ì¸ í›„
4. â†’ /dashboardë¡œ ë³µê·€
```

## ëª¨ë²” ì‚¬ë¡€ ì ìš©

âœ… **Route Groups** - ëª…í™•í•œ ë¶„ë¦¬  
âœ… **Middleware** - ë¼ìš°íŠ¸ ë³´í˜¸  
âœ… **Client/Server Components** - ì ì ˆí•œ í˜¼ìš©  
âœ… **ë°˜ì‘í˜• ë””ìì¸** - Mobile First  
âœ… **TypeScript** - íƒ€ì… ì•ˆì •ì„±  
âœ… **Tailwind CSS** - ì¼ê´€ëœ ìŠ¤íƒ€ì¼  
âœ… **Lucide Icons** - ì•„ì´ì½˜ ì¼ê´€ì„±  

## ì£¼ì˜ì‚¬í•­

âš ï¸ **ì¸ì¦ ì‹œìŠ¤í…œ**
- í˜„ì¬ëŠ” Mock êµ¬í˜„
- ì‹¤ì œ JWT í† í° ê´€ë¦¬ í•„ìš”
- Refresh Token ë¡œì§ í•„ìš”

âš ï¸ **API ì—°ë™**
- Backend API ì—°ê²° í•„ìš”
- Axios + React Query ì„¤ì •
- Error Handling

âš ï¸ **ìƒíƒœ ê´€ë¦¬**
- Zustand store êµ¬í˜„ í•„ìš”
- ì „ì—­ ìƒíƒœ ê´€ë¦¬

## ì°¸ê³  ë¬¸ì„œ

- [Next.js Route Groups](https://nextjs.org/docs/app/building-your-application/routing/route-groups)
- [Next.js Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware)
- [Architecture Decision](../../docs/guides/FRONTEND_ARCHITECTURE_DECISION.md)

---

**êµ¬í˜„ ì™„ë£Œ**: Route Groups ê¸°ë°˜ í†µí•© ì•„í‚¤í…ì²˜ âœ…  
**ë‹¤ìŒ ë‹¨ê³„**: ì‹¤ì œ API ì—°ë™ ë° ì—…ë¬´ ëª¨ë“ˆ êµ¬í˜„
