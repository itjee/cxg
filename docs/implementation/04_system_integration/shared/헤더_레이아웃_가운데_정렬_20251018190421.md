# 헤더 레이아웃 가운데 정렬 구현

**날짜**: 2025-10-18 19:04:21 KST
**작성자**: Claude Code
**유형**: 개선
**컴포넌트**:
- Header (manager-web)
- Header (tenants-web)

## 개요

메인 헤더의 검색어 입력란을 가운데로 정렬하여 균형잡힌 3등분 레이아웃을 구현했습니다. 좌측(메뉴+경로), 가운데(검색), 우측(테마+사용자)이 각각 동일한 공간을 차지하도록 개선했습니다.

## 변경 전 구조

### 레이아웃 문제점

```
┌──────────────────────────┬──────┬────────┐
│   좌측 (flex-1)          │ 검색 │  우측  │
│   메뉴 + 경로            │ 고정 │  고정  │
└──────────────────────────┴──────┴────────┘
```

**문제점**:
- 검색창이 우측으로 치우쳐 있음
- 좌측 영역이 과도하게 넓음
- 시각적 불균형
- 고정 너비로 인한 유연성 부족

### 기존 코드

```tsx
{/* Left: Sidebar Toggle and Breadcrumb */}
<div className="flex items-center gap-3 flex-1 min-w-0">
  {/* ... */}
</div>

{/* Center: Search */}
<div className="flex-shrink-0 w-80">
  <div className="relative">
    <Search className="..." />
    <Input type="search" placeholder="검색..." className="w-full pl-9 h-9 bg-muted/50" />
  </div>
</div>

{/* Right: Theme Toggle and User Menu */}
<div className="flex items-center gap-3 flex-shrink-0">
  {/* ... */}
</div>
```

## 변경 후 구조

### 개선된 레이아웃

```
┌─────────────┬──────────────┬─────────────┐
│   좌측      │    가운데     │    우측     │
│  (flex-1)   │  (flex-1)    │  (flex-1)   │
│ 메뉴+경로   │    검색      │  테마+유저  │
└─────────────┴──────────────┴─────────────┘
```

**개선 사항**:
- ✅ 검색창이 정확히 가운데 정렬
- ✅ 3등분 균형잡힌 레이아웃
- ✅ 반응형 대응 (최대 너비 제한)
- ✅ 시각적 조화와 균형

### 새로운 코드

```tsx
{/* Left: Sidebar Toggle and Breadcrumb */}
<div className="flex items-center gap-3 flex-1 min-w-0">
  {/* ... */}
</div>

{/* Center: Search */}
<div className="flex-1 flex justify-center max-w-2xl mx-auto">
  <div className="relative w-full max-w-md">
    <Search className="..." />
    <Input type="search" placeholder="검색..." className="w-full pl-9 h-9 bg-muted/50" />
  </div>
</div>

{/* Right: Theme Toggle and User Menu */}
<div className="flex items-center gap-3 flex-1 justify-end min-w-0">
  {/* ... */}
</div>
```

## 변경된 파일 목록

### manager-web
**파일**: `/apps/manager-web/src/components/layout/header.tsx`

**변경 전**:
```tsx
{/* Center: Search */}
<div className="flex-shrink-0 w-80">
  <div className="relative">
    {/* ... */}
  </div>
</div>

{/* Right: Theme Toggle and User Menu */}
<div className="flex items-center gap-3 flex-shrink-0">
  {/* ... */}
</div>
```

**변경 후**:
```tsx
{/* Center: Search */}
<div className="flex-1 flex justify-center max-w-2xl mx-auto">
  <div className="relative w-full max-w-md">
    {/* ... */}
  </div>
</div>

{/* Right: Theme Toggle and User Menu */}
<div className="flex items-center gap-3 flex-1 justify-end min-w-0">
  {/* ... */}
</div>
```

### tenants-web
**파일**: `/apps/tenants-web/src/components/layout/header.tsx`

**변경 전**:
```tsx
{/* Center: Search */}
<div className="relative hidden md:flex flex-shrink-0 w-80">
  {/* ... */}
</div>

{/* Right: Theme Toggle and Notifications */}
<div className="flex items-center gap-2 flex-shrink-0">
  {/* ... */}
</div>
```

**변경 후**:
```tsx
{/* Center: Search */}
<div className="flex-1 flex justify-center max-w-2xl mx-auto">
  <div className="relative hidden md:flex w-full max-w-md">
    {/* ... */}
  </div>
</div>

{/* Right: Theme Toggle and Notifications */}
<div className="flex items-center gap-2 flex-1 justify-end min-w-0">
  {/* ... */}
</div>
```

## 기술적 세부사항

### Flexbox 레이아웃 원리

#### 좌측 영역
```tsx
<div className="flex items-center gap-3 flex-1 min-w-0">
```
- `flex-1`: 사용 가능한 공간의 1/3 차지
- `min-w-0`: 컨텐츠가 넘칠 경우 축소 허용 (breadcrumb overflow 처리)
- 메뉴 버튼과 경로(breadcrumb) 포함

#### 가운데 영역 (검색)
```tsx
<div className="flex-1 flex justify-center max-w-2xl mx-auto">
  <div className="relative w-full max-w-md">
```
- **외부 컨테이너**:
  - `flex-1`: 사용 가능한 공간의 1/3 차지
  - `flex justify-center`: 내부 컨텐츠를 가운데 정렬
  - `max-w-2xl`: 최대 너비 672px (너무 넓어지지 않도록)
  - `mx-auto`: 좌우 자동 마진 (가운데 정렬 보조)

- **내부 컨테이너**:
  - `w-full`: 부모 너비의 100%
  - `max-w-md`: 최대 너비 448px (검색창이 너무 넓지 않게)
  - `relative`: 아이콘과 키보드 단축키 절대 위치 기준

#### 우측 영역
```tsx
<div className="flex items-center gap-3 flex-1 justify-end min-w-0">
```
- `flex-1`: 사용 가능한 공간의 1/3 차지
- `justify-end`: 컨텐츠를 우측 끝으로 정렬
- `min-w-0`: 컨텐츠가 넘칠 경우 축소 허용
- 테마 토글, 사용자 메뉴 등 포함

### 반응형 처리

#### 데스크탑 (기본)
```
┌─────────────┬──────────────┬─────────────┐
│             │              │             │
│   1/3       │     1/3      │     1/3     │
│             │              │             │
└─────────────┴──────────────┴─────────────┘
```

#### 타블렛
- 검색창 최대 너비 제한으로 적절한 크기 유지
- 3등분 레이아웃 유지

#### 모바일 (tenants-web)
```tsx
<div className="relative hidden md:flex w-full max-w-md">
```
- `hidden md:flex`: 모바일에서는 검색창 숨김
- 별도의 검색 버튼으로 대체

## 구현 패턴

### 3등분 헤더 레이아웃 패턴

이 패턴은 모든 헤더 컴포넌트에 적용할 수 있는 표준 구조입니다:

```tsx
<header className="flex items-center gap-4 px-4">
  {/* 1. 좌측 영역 (flex-1) */}
  <div className="flex items-center gap-3 flex-1 min-w-0">
    {/* 메뉴 토글, 로고, 경로 등 */}
  </div>

  {/* 2. 가운데 영역 (flex-1, center) */}
  <div className="flex-1 flex justify-center max-w-2xl mx-auto">
    <div className="relative w-full max-w-md">
      {/* 검색창 또는 주요 액션 */}
    </div>
  </div>

  {/* 3. 우측 영역 (flex-1, end) */}
  <div className="flex items-center gap-3 flex-1 justify-end min-w-0">
    {/* 알림, 테마, 사용자 메뉴 등 */}
  </div>
</header>
```

### 핵심 원칙

1. **균등 분할**: 각 영역에 `flex-1` 적용하여 동일한 공간 할당
2. **정렬 방식**:
   - 좌측: 기본 정렬 (시작점)
   - 가운데: `justify-center` (중앙)
   - 우측: `justify-end` (끝점)
3. **최대 너비 제한**: 검색창이 너무 넓어지지 않도록 `max-w-md`, `max-w-2xl` 사용
4. **오버플로우 처리**: `min-w-0`으로 컨텐츠가 넘칠 경우 축소 허용

## 사용 예시

### 기본 3등분 헤더

```tsx
export function Header() {
  return (
    <header className="h-14 flex items-center gap-4 px-4 border-b">
      {/* 좌측: 브랜드 + 네비게이션 */}
      <div className="flex items-center gap-3 flex-1 min-w-0">
        <Logo />
        <Nav />
      </div>

      {/* 가운데: 검색 */}
      <div className="flex-1 flex justify-center max-w-2xl mx-auto">
        <SearchBar />
      </div>

      {/* 우측: 유틸리티 */}
      <div className="flex items-center gap-3 flex-1 justify-end min-w-0">
        <ThemeToggle />
        <UserMenu />
      </div>
    </header>
  );
}
```

### 변형: 좌측 강조 헤더

```tsx
{/* 좌측 영역을 더 넓게 */}
<div className="flex items-center gap-3 flex-[2] min-w-0">
  {/* ... */}
</div>

{/* 가운데 */}
<div className="flex-1 flex justify-center max-w-2xl mx-auto">
  {/* ... */}
</div>

{/* 우측 */}
<div className="flex items-center gap-3 flex-1 justify-end min-w-0">
  {/* ... */}
</div>
```

### 변형: 가운데 강조 헤더

```tsx
{/* 좌측 */}
<div className="flex items-center gap-3 flex-1 min-w-0">
  {/* ... */}
</div>

{/* 가운데 영역을 더 넓게 */}
<div className="flex-[2] flex justify-center max-w-3xl mx-auto">
  {/* ... */}
</div>

{/* 우측 */}
<div className="flex items-center gap-3 flex-1 justify-end min-w-0">
  {/* ... */}
</div>
```

## 시각적 개선 효과

### Before (불균형)
```
┌────────────────────────────────────┬──────┬────────┐
│                                    │ 검색 │  메뉴  │
└────────────────────────────────────┴──────┴────────┘
```
- 검색창이 우측으로 치우침
- 좌측 공간 낭비
- 시각적 불균형

### After (균형)
```
┌──────────────┬──────────────┬──────────────┐
│   브랜드     │     검색     │     메뉴     │
└──────────────┴──────────────┴──────────────┘
```
- 검색창이 정확히 가운데
- 공간 효율적 사용
- 시각적 조화

## 이점

### 1. 시각적 균형
- 3등분 레이아웃으로 조화로운 디자인
- 시선의 흐름이 자연스러움
- 모던하고 세련된 느낌

### 2. 사용성 향상
- 검색창이 중앙에 위치하여 접근성 향상
- 시각적 우선순위가 명확함
- 직관적인 레이아웃

### 3. 유지보수성
- 일관된 레이아웃 패턴
- 코드 재사용 용이
- 반응형 대응 간편

### 4. 확장성
- flex-1 기반으로 유연한 조정 가능
- 새로운 요소 추가 시 균형 유지
- 다양한 화면 크기 대응

## 주의사항

### 1. 최소 너비 확보
```tsx
className="flex-1 min-w-0"
```
- `min-w-0` 없이 `flex-1`만 사용하면 컨텐츠 오버플로우 시 레이아웃 깨짐
- breadcrumb 등 긴 텍스트가 있을 경우 필수

### 2. 최대 너비 제한
```tsx
className="max-w-2xl mx-auto"  // 외부 컨테이너
className="max-w-md"           // 검색창
```
- 최대 너비 제한 없이 사용하면 큰 화면에서 검색창이 과도하게 넓어짐
- 적절한 너비 제한으로 가독성 유지

### 3. 모바일 대응
```tsx
className="hidden md:flex"  // 모바일에서는 숨김
```
- 모바일에서는 검색창을 숨기고 별도 버튼으로 대체
- 공간 절약과 UX 개선

## 향후 개선사항

### 1. 검색 기능 강화
- 자동완성 (Autocomplete)
- 최근 검색어
- 검색 필터 및 카테고리

### 2. 키보드 단축키
- ⌘K / Ctrl+K로 검색창 포커스
- 검색 모달 구현

### 3. 검색 결과 미리보기
- Instant Search
- Dropdown으로 검색 결과 표시

### 4. 반응형 최적화
- 타블렛 크기에서 검색창 너비 조정
- 초소형 화면 대응

## 관련 문서

- `/docs/guides/COMPONENT-COMPOSITION-GUIDE.md` - 컴포넌트 조합 패턴
- `/docs/implementation/shared/디자인시스템_neutral_violet_최종_20251018175237.md` - 색상 시스템

## 참고 자료

### Flexbox 리소스
- [CSS Tricks - Flexbox Guide](https://css-tricks.com/snippets/css/a-guide-to-flexbox/)
- [MDN - Flexbox](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout)

### 디자인 패턴
- 3등분 헤더 레이아웃 (Three-Column Header)
- 균형 잡힌 레이아웃 (Balanced Layout)
- 중앙 정렬 검색 (Centered Search Pattern)
