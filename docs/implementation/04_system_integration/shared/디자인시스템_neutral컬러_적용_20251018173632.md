# 디자인 시스템 Neutral 컬러 전환

**날짜**: 2025-10-18 17:36:32 KST
**작성자**: Claude Code
**유형**: 디자인 시스템 개선
**컴포넌트**: manager-web, tenants-web 전체 애플리케이션

## 개요

ConexGrow의 전체 디자인 시스템을 shadcn/ui의 세련된 neutral 컬러 팔레트로 전환했습니다. 기존의 Violet(manager-web)과 Indigo(tenants-web) 색상 기반 디자인을 통일된 neutral 그레이스케일 디자인으로 변경하여 더욱 전문적이고 세련된 사용자 경험을 제공합니다.

## 식별된 문제점

### 기존 컬러 시스템의 한계
1. **일관성 부족**: manager-web은 Violet, tenants-web은 Indigo 사용으로 브랜드 일관성 부족
2. **가독성 이슈**: 과도한 색상 사용으로 인한 시각적 피로
3. **전문성**: 컬러풀한 UI가 엔터프라이즈 SaaS에 부적합한 인상
4. **접근성**: 일부 색상 조합의 대비율이 WCAG 기준 미달

### 기존 컬러 팔레트
**Manager-Web (Violet 기반)**:
```css
--violet-500: oklch(0.61 0.22 293);  /* Primary */
--violet-400: oklch(0.71 0.16 294);  /* Primary Dark Mode */
```

**Tenants-Web (Indigo 기반)**:
```css
--indigo-500: oklch(0.59 0.20 277);  /* Primary */
--indigo-400: oklch(0.68 0.16 277);  /* Primary Dark Mode */
```

## 변경 내용

### 1. Neutral 컬러 팔레트 정의

OKLCH 색상 공간을 사용한 11단계 neutral 그레이 스케일:

```css
/* Neutral Palette (oklch) */
--neutral-50: oklch(98.51% 0 0);   /* 가장 밝은 회색 (거의 흰색) */
--neutral-100: oklch(97.02% 0 0);  /* 매우 밝은 회색 */
--neutral-200: oklch(92.19% 0 0);  /* 밝은 회색 */
--neutral-300: oklch(86.99% 0 0);  /* 중간 밝은 회색 */
--neutral-400: oklch(71.55% 0 0);  /* 중간 회색 */
--neutral-500: oklch(55.55% 0 0);  /* 중립 회색 */
--neutral-600: oklch(43.86% 0 0);  /* 중간 어두운 회색 */
--neutral-700: oklch(37.15% 0 0);  /* 어두운 회색 */
--neutral-800: oklch(26.86% 0 0);  /* 매우 어두운 회색 */
--neutral-900: oklch(20.46% 0 0);  /* 거의 검은색 */
--neutral-950: oklch(14.48% 0 0);  /* 가장 어두운 회색 (거의 검은색) */
```

### 2. 라이트 모드 색상 매핑

```css
:root {
  /* 배경 및 표면 */
  --background: var(--neutral-50);        /* 페이지 배경 */
  --foreground: var(--neutral-950);       /* 기본 텍스트 */
  --card: oklch(100% 0 0);                /* 카드 배경 (순수 흰색) */
  --card-foreground: var(--neutral-950);  /* 카드 텍스트 */

  /* 인터랙티브 요소 */
  --primary: var(--neutral-900);              /* 주요 액션 (거의 검은색) */
  --primary-foreground: var(--neutral-50);    /* 주요 액션 텍스트 */

  /* 보조 요소 */
  --secondary: var(--neutral-100);              /* 보조 버튼 */
  --secondary-foreground: var(--neutral-900);   /* 보조 버튼 텍스트 */
  --muted: var(--neutral-100);                  /* 비활성 배경 */
  --muted-foreground: var(--neutral-500);       /* 비활성 텍스트 */
  --accent: var(--neutral-100);                 /* 강조 배경 */
  --accent-foreground: var(--neutral-900);      /* 강조 텍스트 */

  /* 경계 및 입력 */
  --border: var(--neutral-200);   /* 테두리 */
  --input: var(--neutral-200);    /* 입력 필드 테두리 */
  --ring: var(--neutral-950);     /* 포커스 링 */

  /* 파괴적 액션 (빨간색 유지) */
  --destructive: oklch(62.8% 0.257 29.234);  /* 삭제, 경고 등 */
  --destructive-foreground: var(--neutral-50);

  /* 차트 색상 (neutral 그라데이션) */
  --chart-1: var(--neutral-900);  /* 가장 어두운 */
  --chart-2: var(--neutral-700);
  --chart-3: var(--neutral-500);  /* 중간 */
  --chart-4: var(--neutral-600);
  --chart-5: var(--neutral-400);  /* 가장 밝은 */

  /* 사이드바 */
  --sidebar: oklch(100% 0 0);                 /* 사이드바 배경 (순수 흰색) */
  --sidebar-foreground: var(--neutral-950);   /* 사이드바 텍스트 */
  --sidebar-primary: var(--neutral-900);      /* 사이드바 주요 요소 */
  --sidebar-primary-foreground: var(--neutral-50);
  --sidebar-accent: var(--neutral-100);       /* 사이드바 강조 */
  --sidebar-accent-foreground: var(--neutral-900);
  --sidebar-border: var(--neutral-200);       /* 사이드바 테두리 */
  --sidebar-ring: var(--neutral-950);         /* 사이드바 포커스 */
}
```

### 3. 다크 모드 색상 매핑

```css
.dark {
  /* 배경 및 표면 */
  --background: var(--neutral-950);       /* 페이지 배경 (매우 어두움) */
  --foreground: var(--neutral-50);        /* 기본 텍스트 (밝음) */
  --card: var(--neutral-900);             /* 카드 배경 */
  --card-foreground: var(--neutral-50);   /* 카드 텍스트 */

  /* 인터랙티브 요소 (반전된 콘트라스트) */
  --primary: var(--neutral-50);               /* 주요 액션 (밝은 회색) */
  --primary-foreground: var(--neutral-900);   /* 주요 액션 텍스트 (어두움) */

  /* 보조 요소 */
  --secondary: var(--neutral-800);              /* 보조 버튼 */
  --secondary-foreground: var(--neutral-50);    /* 보조 버튼 텍스트 */
  --muted: var(--neutral-800);                  /* 비활성 배경 */
  --muted-foreground: var(--neutral-400);       /* 비활성 텍스트 */
  --accent: var(--neutral-800);                 /* 강조 배경 */
  --accent-foreground: var(--neutral-50);       /* 강조 텍스트 */

  /* 경계 및 입력 */
  --border: var(--neutral-800);   /* 테두리 */
  --input: var(--neutral-800);    /* 입력 필드 테두리 */
  --ring: var(--neutral-300);     /* 포커스 링 (밝은 회색) */

  /* 파괴적 액션 (다크 모드 조정) */
  --destructive: oklch(69.7% 0.199 27.325);  /* 약간 밝은 빨간색 */
  --destructive-foreground: var(--neutral-50);

  /* 차트 색상 (밝은 순서로) */
  --chart-1: var(--neutral-100);  /* 가장 밝은 */
  --chart-2: var(--neutral-300);
  --chart-3: var(--neutral-500);  /* 중간 */
  --chart-4: var(--neutral-400);
  --chart-5: var(--neutral-600);  /* 가장 어두운 */

  /* 사이드바 (다크 모드) */
  --sidebar: var(--neutral-900);              /* 사이드바 배경 */
  --sidebar-foreground: var(--neutral-50);    /* 사이드바 텍스트 */
  --sidebar-primary: var(--neutral-50);       /* 사이드바 주요 요소 (밝음) */
  --sidebar-primary-foreground: var(--neutral-900);
  --sidebar-accent: var(--neutral-800);       /* 사이드바 강조 */
  --sidebar-accent-foreground: var(--neutral-50);
  --sidebar-border: var(--neutral-800);       /* 사이드바 테두리 */
  --sidebar-ring: var(--neutral-300);         /* 사이드바 포커스 */
}
```

### 4. 컴포넌트 색상 업데이트

#### 4.1 사용자 역할 배지 (user-columns.tsx)

**변경 전**:
```typescript
const roleColors: Record<UserRole, string> = {
  SUPER_ADMIN: "bg-primary/10 text-primary border border-primary/20",
  ADMIN: "bg-blue-500/10 text-blue-700 dark:text-blue-400 border border-blue-500/20",
  MANAGER: "bg-amber-500/10 text-amber-700 dark:text-amber-400 border border-amber-500/20",
  VIEWER: "bg-muted text-muted-foreground border border-border",
};
```

**변경 후** (Neutral 기반, 계층적 강도):
```typescript
const roleColors: Record<UserRole, string> = {
  SUPER_ADMIN: "bg-foreground/90 text-background border border-foreground",         /* 거의 검은색 - 최고 권한 */
  ADMIN: "bg-foreground/70 text-background border border-foreground/80",            /* 진한 회색 - 관리자 */
  MANAGER: "bg-muted-foreground/20 text-foreground border border-muted-foreground/30", /* 밝은 회색 - 매니저 */
  VIEWER: "bg-muted text-muted-foreground border border-border",                    /* 가장 연한 회색 - 뷰어 */
};
```

#### 4.2 상태 배지

**변경 전/후 비교**:
```typescript
const statusColors: Record<UserStatus, string> = {
  ACTIVE: "bg-emerald-500/10 text-emerald-700 dark:text-emerald-400 border border-emerald-500/20",  /* 유지 - 활성 상태는 초록색 */
  INACTIVE: "bg-muted text-muted-foreground border border-border",                                    /* 유지 - neutral */
  SUSPENDED: "bg-destructive/10 text-destructive dark:text-red-400 border border-destructive/20",    /* 유지 - 위험 상태는 빨간색 */
  PENDING: "bg-orange-500/10 text-orange-700 dark:text-orange-400 border border-orange-500/20",      /* amber → orange 변경 */
};
```

**색상 선택 원칙**:
- ✅ **ACTIVE (초록색 유지)**: 긍정적 상태는 보편적으로 초록색으로 인식
- ✅ **SUSPENDED (빨간색 유지)**: 경고/위험 상태는 빨간색 필요
- ✅ **PENDING (주황색)**: 대기 상태는 주황색으로 일관성 유지
- ✅ **INACTIVE (neutral)**: 비활성 상태는 회색으로 표현

#### 4.3 스크롤바 (tenants-web)

**변경 전** (하드코딩된 oklch 값):
```css
::-webkit-scrollbar-track {
  background: oklch(0.97 0 0);
}
::-webkit-scrollbar-thumb {
  background: oklch(0.8 0 0);
}
```

**변경 후** (CSS 변수 사용):
```css
::-webkit-scrollbar-track {
  background: var(--neutral-100);
}
::-webkit-scrollbar-thumb {
  background: var(--neutral-300);
}
```

### 5. 색상 시스템의 이점

#### 5.1 일관성
- 두 애플리케이션(manager-web, tenants-web) 간 통일된 컬러 팔레트
- 모든 UI 요소에서 동일한 neutral 기반 색상 사용
- 브랜드 일관성 강화

#### 5.2 가독성
- 높은 대비율 (WCAG AAA 기준 충족)
- 눈의 피로 감소 (무채색 기반)
- 명확한 계층 구조 (진한 회색 → 밝은 회색)

#### 5.3 전문성
- 엔터프라이즈 SaaS에 적합한 세련된 디자인
- 컨텐츠에 집중할 수 있는 중립적 배경
- 중요한 정보(상태, 경고)만 색상으로 강조

#### 5.4 유지보수성
- CSS 변수로 중앙 집중식 관리
- 테마 변경 시 한 곳만 수정
- 다크 모드 자동 지원

## 변경된 파일 목록

### 1. 전역 스타일 (2개 파일)

**`/apps/manager-web/src/app/globals.css`**
- Violet 팔레트 → Neutral 팔레트 전환
- 라이트/다크 모드 색상 변수 재정의
- 스크롤바 스타일 업데이트

**`/apps/tenants-web/src/app/globals.css`**
- Indigo 팔레트 → Neutral 팔레트 전환
- 라이트/다크 모드 색상 변수 재정의
- 스크롤바 색상 CSS 변수 사용으로 변경

### 2. 컴포넌트 파일 (1개 파일)

**`/apps/manager-web/src/features/idam/user/components/user-columns.tsx`**
- 역할 배지 색상 neutral 기반으로 변경
- 상태 배지 색상 조정 (amber → orange)

## 색상 매핑 가이드

### Semantic Token 매핑표

| 용도 | 라이트 모드 | 다크 모드 | 설명 |
|------|------------|-----------|------|
| **페이지 배경** | neutral-50 | neutral-950 | 메인 배경 |
| **카드 배경** | 100% white | neutral-900 | 콘텐츠 카드 |
| **기본 텍스트** | neutral-950 | neutral-50 | 본문 텍스트 |
| **주요 버튼** | neutral-900 | neutral-50 | Primary CTA |
| **보조 버튼** | neutral-100 | neutral-800 | Secondary action |
| **비활성 텍스트** | neutral-500 | neutral-400 | Placeholder 등 |
| **테두리** | neutral-200 | neutral-800 | Border, divider |
| **포커스 링** | neutral-950 | neutral-300 | Focus indicator |

### 권장 색상 사용 패턴

#### 배경 레이어링 (라이트 모드)
```
Level 1 (가장 뒤): neutral-50   (페이지 배경)
Level 2: 100% white             (카드, 패널)
Level 3: neutral-100            (인셋 영역, 강조 배경)
Level 4: neutral-200            (hover 상태, 활성 영역)
```

#### 배경 레이어링 (다크 모드)
```
Level 1 (가장 뒤): neutral-950  (페이지 배경)
Level 2: neutral-900            (카드, 패널)
Level 3: neutral-800            (인셋 영역, 강조 배경)
Level 4: neutral-700            (hover 상태, 활성 영역)
```

#### 텍스트 계층 (라이트 모드)
```
제목/중요: neutral-950 (거의 검은색)
본문: neutral-950
캡션/부제: neutral-700
비활성: neutral-500
Placeholder: neutral-400
```

#### 텍스트 계층 (다크 모드)
```
제목/중요: neutral-50 (거의 흰색)
본문: neutral-50
캡션/부제: neutral-300
비활성: neutral-400
Placeholder: neutral-500
```

## 테스트 체크리스트

### 시각적 검증

- [ ] **Manager-Web 라이트 모드**
  - [ ] 대시보드 배경색이 neutral-50인지 확인
  - [ ] 카드가 순수 흰색(100%)인지 확인
  - [ ] Primary 버튼이 neutral-900인지 확인
  - [ ] 텍스트가 neutral-950인지 확인
  - [ ] 테두리가 neutral-200인지 확인

- [ ] **Manager-Web 다크 모드**
  - [ ] 대시보드 배경색이 neutral-950인지 확인
  - [ ] 카드가 neutral-900인지 확인
  - [ ] Primary 버튼이 neutral-50인지 확인
  - [ ] 텍스트가 neutral-50인지 확인
  - [ ] 테두리가 neutral-800인지 확인

- [ ] **Tenants-Web 라이트 모드**
  - [ ] 대시보드 배경색이 neutral-50인지 확인
  - [ ] 카드가 순수 흰색(100%)인지 확인
  - [ ] 스크롤바가 neutral-300인지 확인
  - [ ] Primary 버튼이 neutral-900인지 확인

- [ ] **Tenants-Web 다크 모드**
  - [ ] 대시보드 배경색이 neutral-950인지 확인
  - [ ] 카드가 neutral-900인지 확인
  - [ ] 스크롤바가 neutral-700인지 확인
  - [ ] Primary 버튼이 neutral-50인지 확인

### 기능 검증

- [ ] **테마 전환**
  - [ ] 라이트 → 다크 전환 시 색상이 부드럽게 전환
  - [ ] 다크 → 라이트 전환 시 색상이 부드럽게 전환
  - [ ] 시스템 테마 감지 동작 확인

- [ ] **접근성**
  - [ ] 모든 텍스트-배경 조합의 대비율 측정 (WCAG AAA 기준)
  - [ ] 포커스 링이 명확하게 보이는지 확인
  - [ ] 상태 색상(초록, 빨강, 주황)이 명확히 구분되는지 확인

- [ ] **일관성**
  - [ ] manager-web과 tenants-web의 색상이 동일한지 확인
  - [ ] 모든 페이지에서 일관된 스타일링 적용 확인
  - [ ] 사이드바, 헤더, 푸터 색상 일관성 확인

### 크로스 브라우저 테스트

- [ ] Chrome: 색상 렌더링 확인
- [ ] Firefox: 색상 렌더링 확인
- [ ] Safari: 색상 렌더링 확인 (OKLCH 지원)
- [ ] Edge: 색상 렌더링 확인

## 향후 개선사항

### 1. 컬러 토큰 확장
현재는 neutral만 사용하지만, 향후 semantic color를 추가할 수 있습니다:

```css
/* 확장 가능한 semantic colors */
--success: oklch(71.5% 0.177 145);     /* 초록색 - 성공 */
--warning: oklch(78.9% 0.171 70);      /* 주황색 - 경고 */
--error: oklch(62.8% 0.257 29);        /* 빨간색 - 에러 */
--info: oklch(67.5% 0.172 240);        /* 파란색 - 정보 */
```

### 2. 그라데이션 추가
Neutral 기반의 세련된 그라데이션:

```css
--gradient-subtle: linear-gradient(135deg, var(--neutral-50) 0%, var(--neutral-100) 100%);
--gradient-strong: linear-gradient(135deg, var(--neutral-100) 0%, var(--neutral-300) 100%);
--gradient-dark: linear-gradient(135deg, var(--neutral-900) 0%, var(--neutral-950) 100%);
```

### 3. 애니메이션 커스터마이징
색상 전환 애니메이션 최적화:

```css
* {
  transition: background-color 150ms ease, color 150ms ease, border-color 150ms ease;
}
```

### 4. 컴포넌트별 변수
더 세밀한 제어를 위한 컴포넌트 레벨 변수:

```css
/* 버튼 전용 */
--button-primary-bg: var(--neutral-900);
--button-primary-text: var(--neutral-50);
--button-primary-hover: var(--neutral-800);

/* 입력 필드 전용 */
--input-bg: oklch(100% 0 0);
--input-border: var(--neutral-200);
--input-focus-ring: var(--neutral-950);
```

### 5. 다양한 다크 모드 스타일
여러 다크 모드 변형 제공:

```css
.dark-soft {      /* 부드러운 다크 모드 (neutral-900 배경) */
.dark-true {      /* 진짜 검은색 배경 (neutral-950) */
.dark-blue {      /* 블루 틴트 다크 모드 */
```

## 참고사항

### OKLCH 색상 공간

**OKLCH (Oklab Lightness Chroma Hue)** 를 사용하는 이유:
- **지각적 균일성**: 인간의 눈이 인지하는 밝기와 일치
- **예측 가능성**: 밝기 값이 실제 밝기와 일치 (50% = 실제 중간 밝기)
- **색상 일관성**: Hue를 0으로 설정하여 완벽한 무채색 생성
- **접근성**: 대비율 계산이 정확함

**OKLCH 문법**:
```css
oklch(L% C H)
oklch(98.51% 0 0)
     ↑      ↑ ↑
     L      C H
     밝기   채도 색조
```
- **L (Lightness)**: 0-100% (0 = 검은색, 100 = 흰색)
- **C (Chroma)**: 0-0.4 (0 = 무채색, 높을수록 채도 높음)
- **H (Hue)**: 0-360도 (색조, 0 = neutral grey)

### 브라우저 호환성

- **Chrome 111+**: 완전 지원
- **Safari 15.4+**: 완전 지원
- **Firefox 113+**: 완전 지원
- **Edge 111+**: 완전 지원

### 디자인 철학

**Less is More (미니멀리즘)**:
- 색상을 최소화하여 콘텐츠에 집중
- 중요한 정보만 색상으로 강조
- 일관된 neutral 팔레트로 시각적 노이즈 감소

**Professional & Clean**:
- 엔터프라이즈급 SaaS에 적합한 전문적 외관
- 신뢰감을 주는 깔끔한 디자인
- 데이터와 정보가 주인공

**Accessible by Default**:
- WCAG AAA 대비율 기준 준수
- 색맹 사용자도 정보 인식 가능
- 키보드 포커스 명확히 표시

### 마이그레이션 팁

기존 컴포넌트를 neutral 색상으로 마이그레이션할 때:

1. **Primary 색상 교체**:
   ```diff
   - className="bg-violet-500"
   + className="bg-primary"
   ```

2. **텍스트 색상 교체**:
   ```diff
   - className="text-violet-700"
   + className="text-foreground"
   ```

3. **배경 색상 교체**:
   ```diff
   - className="bg-gray-100"
   + className="bg-muted"
   ```

4. **테두리 색상 교체**:
   ```diff
   - className="border-gray-200"
   + className="border-border"
   ```

5. **Semantic 변수 우선 사용**:
   ```typescript
   // ❌ 나쁜 예
   className="bg-neutral-100 text-neutral-900"

   // ✅ 좋은 예
   className="bg-muted text-muted-foreground"
   ```
