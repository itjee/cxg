# 통계 카드 설명 텍스트 추가

**날짜**: 2025-10-19 22:44:01 KST
**작성자**: Claude
**유형**: 개선
**컴포넌트**: 기준정보 관리 페이지들

## 개요
기준정보 관리의 거래처 관리, 제품 관리, 창고 관리 페이지의 통계 카드에 설명 텍스트(description)를 추가하여 사용자에게 더 많은 정보를 제공합니다.

## 변경 내용

### 1. 거래처 관리 페이지 (partners/page.tsx)
통계 카드에 다음 설명을 추가:
- **전체 거래처**: "등록된 거래처 수"
- **고객사**: 전체 대비 비율 표시 (예: "45% 비율")
- **공급사**: 전체 대비 비율 표시 (예: "55% 비율")
- **비활성**: "관리 필요"

```typescript
const stats = useMemo(() => {
  const customerCount = partners.filter(p => p.type === "customer" || p.type === "both").length;
  const supplierCount = partners.filter(p => p.type === "supplier" || p.type === "both").length;
  const inactiveCount = partners.filter(p => p.status === "inactive").length;
  
  return [
    { 
      title: "전체 거래처", 
      value: partners.length, 
      description: "등록된 거래처 수",
      icon: <Store />, 
      color: "primary" as const 
    },
    { 
      title: "고객사", 
      value: customerCount, 
      description: `${partners.length > 0 ? Math.round((customerCount / partners.length) * 100) : 0}% 비율`,
      icon: <CheckCircle />, 
      color: "success" as const 
    },
    // ... 나머지 카드
  ];
}, [partners]);
```

### 2. 제품 관리 페이지 (products/page.tsx)
통계 카드에 다음 설명을 추가:
- **전체 제품**: "등록된 제품 수"
- **판매 중**: 활성화 비율 표시 (예: "85% 활성")
- **총 재고**: "현재 보유 재고"
- **단종**: "판매 중단"

```typescript
const stats = useMemo(() => {
  const activeCount = products.filter(p => p.status === "active").length;
  const totalStock = products.reduce((sum, p) => sum + p.stock, 0);
  const discontinuedCount = products.filter(p => p.status === "discontinued").length;
  
  return [
    { 
      title: "전체 제품", 
      value: products.length, 
      description: "등록된 제품 수",
      icon: <Package/>, 
      color: "primary" as const 
    },
    { 
      title: "판매 중", 
      value: activeCount, 
      description: `${products.length > 0 ? Math.round((activeCount / products.length) * 100) : 0}% 활성`,
      icon: <CheckCircle/>, 
      color: "success" as const 
    },
    // ... 나머지 카드
  ];
}, [products]);
```

### 3. 창고 관리 페이지 (warehouses/page.tsx)
통계 카드에 다음 설명을 추가:
- **전체 창고**: "등록된 창고 수"
- **운영 중**: 가동률 표시 (예: "90% 가동")
- **총 용량**: "전체 보관 용량"
- **사용 중**: 사용률 표시 (예: "65% 사용률")

```typescript
const stats = useMemo(() => {
  const activeCount = warehouses.filter(w => w.status === "active").length;
  const totalCapacity = warehouses.reduce((s, w) => s + w.capacity, 0);
  const usedCapacity = warehouses.reduce((s, w) => s + w.usedCapacity, 0);
  const usageRate = totalCapacity > 0 ? Math.round((usedCapacity / totalCapacity) * 100) : 0;
  
  return [
    { 
      title: "전체 창고", 
      value: warehouses.length, 
      description: "등록된 창고 수",
      icon: <Warehouse/>, 
      color: "primary" as const 
    },
    { 
      title: "운영 중", 
      value: activeCount, 
      description: `${warehouses.length > 0 ? Math.round((activeCount / warehouses.length) * 100) : 0}% 가동`,
      icon: <CheckCircle/>, 
      color: "success" as const 
    },
    // ... 나머지 카드
  ];
}, [warehouses]);
```

## 변경된 파일 목록
- `apps/tenants-web/src/app/(main)/adm/partners/page.tsx`
- `apps/tenants-web/src/app/(main)/adm/products/page.tsx`
- `apps/tenants-web/src/app/(main)/adm/warehouses/page.tsx`

## 통계 카드 패턴

### 기본 구조
모든 통계 카드는 다음 구조를 따름:
```typescript
{
  title: string;        // 통계 제목
  value: string | number; // 주요 값
  description: string;  // 설명 텍스트 (필수)
  icon: ReactNode;      // 아이콘
  color: "primary" | "success" | "warning" | "default"; // 색상 테마
}
```

### 설명 텍스트 작성 가이드
1. **절대값 카드**: 명확한 설명 제공 (예: "등록된 회사 수", "현재 보유 재고")
2. **비율 카드**: 전체 대비 퍼센트 표시 (예: "85% 활성", "65% 사용률")
3. **금액 카드**: 세부 정보 제공 (예: "총액 ₩45.2M", "지급 완료")
4. **상태 카드**: 액션 유도 또는 상태 설명 (예: "관리 필요", "승인 대기중")

## 이미 적용된 페이지
다음 페이지들은 이미 통계 카드에 description이 포함되어 있음:
- ✅ 회사 관리 (companies/page.tsx)
- ✅ 부서 관리 (departments/page.tsx)
- ✅ 직원 관리 (employees/page.tsx)
- ✅ 구매/조달 모든 페이지 (psm/*/page.tsx)
- ✅ 대시보드 (overview/page.tsx)

## 테스트
1. 각 페이지 접속 후 통계 카드 확인
2. 설명 텍스트가 카드 하단에 표시되는지 확인
3. 비율 계산이 정확한지 확인 (0으로 나누기 방지 포함)

## 참고사항
- 모든 비율 계산에서 0으로 나누기를 방지하기 위해 조건부 연산 사용
- 설명 텍스트는 12px 크기로 카드 하단에 muted 색상으로 표시됨
- 통계 카드 높이는 128px로 고정되어 있으며, 내부 패딩은 제외됨
