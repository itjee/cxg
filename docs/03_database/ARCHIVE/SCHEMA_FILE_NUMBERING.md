# ìŠ¤í‚¤ë§ˆ íŒŒì¼ ë²ˆí˜¸ ë¶€ì—¬ ì™„ë£Œ ë³´ê³ ì„œ

**ì™„ë£Œì¼**: 2025-01-20  
**ì‘ì—…**: ìŠ¤í‚¤ë§ˆ íŒŒì¼ëª… í‘œì¤€í™”  
**ìƒíƒœ**: âœ… ì™„ë£Œ  

---

## âœ… ì‘ì—… ìš”ì•½

ëª¨ë“  í™•ì •ëœ ìŠ¤í‚¤ë§ˆ íŒŒì¼ì— ë²ˆí˜¸ prefixë¥¼ ë¶€ì—¬í•˜ì—¬ ì‹¤í–‰ ìˆœì„œë¥¼ ëª…í™•íˆ í•˜ê³ , íê¸°/ê²€í†  íŒŒì¼ê³¼ êµ¬ë¶„í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ“ ìµœì¢… íŒŒì¼ êµ¬ì¡° (15ê°œ)

### Phase 1: ì´ˆê¸°í™” (1ê°œ)
```
00_init.sql                   - ì „ì²´ ìŠ¤í‚¤ë§ˆ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
```

### Phase 2: ë§ˆìŠ¤í„° ë°ì´í„° (6ê°œ)
```
01_adm.sql                    - ê³µí†µ ê¸°ì¤€ì •ë³´ (ì¶•ì†Œ) â­ NEW
02_hrm.sql                    - ì¸ì‚¬ê´€ë¦¬ â­ NEW
03_crm.sql                    - ê³ ê°ê´€ê³„ê´€ë¦¬ â­ NEW
04_pim.sql                    - ì œí’ˆì •ë³´ê´€ë¦¬ â­ NEW
05_wms.sql                    - ì°½ê³ /ë¬¼ë¥˜ê´€ë¦¬ â­ NEW (lwm í†µí•©)
06_apm.sql                    - ê²°ì¬/ì›Œí¬í”Œë¡œìš° â­ NEW
```

### Phase 3: ì—…ë¬´ íŠ¸ëœì­ì…˜ (5ê°œ)
```
10_ivm.sql                    - ì¬ê³ ê´€ë¦¬ (í™•ì •)
11_psm.sql                    - êµ¬ë§¤ê´€ë¦¬ (í™•ì •)
12_srm.sql                    - íŒë§¤ê´€ë¦¬ (í™•ì •)
13_asm.sql                    - A/Sê´€ë¦¬ (í™•ì •)
14_fim.sql                    - ì¬ë¬´íšŒê³„ (í™•ì •)
```

### Phase 4: ì§€ì› ê¸°ëŠ¥ (3ê°œ)
```
20_bim.sql                    - ë¶„ì„ (í™•ì •)
21_com.sql                    - ë©”ì‹œì§• (í™•ì •)
22_sys.sql                    - ì‹œìŠ¤í…œ (í™•ì •)
```

---

## ğŸ“¦ íê¸°/ê²€í†  íŒŒì¼ (_deprecated/)

### ë°±ì—… íŒŒì¼
```
_deprecated/adm.sql.old              - êµ¬ë²„ì „ adm (2,752 lines)
_deprecated/lwm.sql.old              - lwm ìŠ¤í‚¤ë§ˆ (wmsë¡œ í†µí•©ë¨)
_deprecated/05_wms_partial.sql.old   - ì„ì‹œ íŒŒì¼ (ì¤‘ê°„ ì‚°ì¶œë¬¼)
```

### ê²€í†  í•„ìš”
```
_deprecated/csm.sql.review           - 140 lines
                                     - crmê³¼ ì¤‘ë³µ ê°€ëŠ¥ì„± ê²€í†  í•„ìš”
                                     - Customer Service Management
```

---

## ğŸ”„ ë³€ê²½ ë‚´ì—­

### íŒŒì¼ëª… ë³€ê²½

| ì´ì „ | ë³€ê²½ í›„ | ë¹„ê³  |
|------|---------|------|
| `ivm.sql` | `10_ivm.sql` | ì¬ê³ ê´€ë¦¬ |
| `psm.sql` | `11_psm.sql` | êµ¬ë§¤ê´€ë¦¬ |
| `srm.sql` | `12_srm.sql` | íŒë§¤ê´€ë¦¬ |
| `asm.sql` | `13_asm.sql` | A/Sê´€ë¦¬ |
| `fim.sql` | `14_fim.sql` | ì¬ë¬´íšŒê³„ |
| `bim.sql` | `20_bim.sql` | ë¶„ì„ |
| `com.sql` | `21_com.sql` | ë©”ì‹œì§• |
| `sys.sql` | `22_sys.sql` | ì‹œìŠ¤í…œ |

### íê¸° íŒŒì¼ ì´ë™

| íŒŒì¼ | ì´ë™ ìœ„ì¹˜ | ì‚¬ìœ  |
|------|----------|------|
| `adm.sql` | `_deprecated/adm.sql.old` | êµ¬ë²„ì „ (ìƒˆ adm.sqlë¡œ ëŒ€ì²´) |
| `lwm.sql` | `_deprecated/lwm.sql.old` | wmsë¡œ í†µí•©ë¨ |
| `csm.sql` | `_deprecated/csm.sql.review` | crmê³¼ ì¤‘ë³µ ê²€í†  í•„ìš” |
| `05_wms_partial.sql` | `_deprecated/05_wms_partial.sql.old` | ì„ì‹œ íŒŒì¼ |

---

## ğŸ“Š í†µê³„

### íŒŒì¼ í¬ê¸°

| íŒŒì¼ | í¬ê¸° | ë¼ì¸ ìˆ˜ (ì˜ˆìƒ) |
|------|------|---------------|
| 00_init.sql | 5.2K | 140 |
| 01_adm.sql | 17K | 290 |
| 02_hrm.sql | 17K | 303 |
| 03_crm.sql | 41K | 779 |
| 04_pim.sql | 50K | 967 |
| 05_wms.sql | 51K | 848 |
| 06_apm.sql | 18K | 285 |
| 10_ivm.sql | 8.5K | - |
| 11_psm.sql | 12K | - |
| 12_srm.sql | 12K | - |
| 13_asm.sql | 19K | - |
| 14_fim.sql | 13K | - |
| 20_bim.sql | 15K | - |
| 21_com.sql | 24K | - |
| 22_sys.sql | 24K | - |

**ì´ ë¼ì¸ ìˆ˜**: ì•½ 5,801 lines

---

## âœ¨ ê°œì„ ì‚¬í•­

### 1. ì‹¤í–‰ ìˆœì„œ ëª…í™•í™”

ë²ˆí˜¸ prefixë¥¼ í†µí•´ ìŠ¤í‚¤ë§ˆ ìƒì„± ìˆœì„œê°€ ëª…í™•í•´ì¡ŒìŠµë‹ˆë‹¤:

```
00 (ì´ˆê¸°í™”) â†’ 01-06 (ë§ˆìŠ¤í„°) â†’ 10-14 (íŠ¸ëœì­ì…˜) â†’ 20-22 (ì§€ì›)
```

### 2. íŒŒì¼ êµ¬ë¶„ ëª…í™•í™”

- **ìˆ«ì ìˆìŒ**: í™•ì •ëœ ìŠ¤í‚¤ë§ˆ
- **ìˆ«ì ì—†ìŒ**: íê¸° ë˜ëŠ” ê²€í†  í•„ìš”
- **_deprecated/**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒŒì¼

### 3. init.sql ìë™í™”

00_init.sqlì´ ë²ˆí˜¸ ìˆœì„œëŒ€ë¡œ ëª¨ë“  ìŠ¤í‚¤ë§ˆë¥¼ ìë™ ìƒì„±:

```sql
\i 01_adm.sql
\i 02_hrm.sql
\i 03_crm.sql
...
\i 22_sys.sql
```

---

## ğŸ” csm.sql ê²€í†  í•„ìš”

### íŒŒì¼ ì •ë³´
- **ìœ„ì¹˜**: `_deprecated/csm.sql.review`
- **í¬ê¸°**: 140 lines
- **ìš©ë„**: Customer Service Management (ê³ ê° ì„œë¹„ìŠ¤ ê´€ë¦¬)

### ê²€í†  ì‚¬í•­

#### 1. crmê³¼ì˜ ì¤‘ë³µ í™•ì¸
```
crm (ê³ ê°ê´€ê³„ê´€ë¦¬):
- customers
- customer_contacts
- customer_managers
- customer_addresses
- customer_banks

csm (ê³ ê°ì„œë¹„ìŠ¤ê´€ë¦¬):
- ???
```

#### 2. í†µí•© ë˜ëŠ” ë¶„ë¦¬ ê²°ì •

**Option 1: crmì— í†µí•©**
- ê³ ê° ê´€ë ¨ ëª¨ë“  ê¸°ëŠ¥ì„ crmìœ¼ë¡œ í†µí•©
- csm í…Œì´ë¸”ì„ crm.customer_services ë“±ìœ¼ë¡œ ì´ê´€

**Option 2: ë…ë¦½ ìœ ì§€**
- CRM: ê³ ê° ë§ˆìŠ¤í„°, ì˜ì—…
- CSM: ê³ ê° ì„œë¹„ìŠ¤, ìƒë‹´, í´ë ˆì„

**Option 3: íê¸°**
- í•„ìš” ì—†ëŠ” ìŠ¤í‚¤ë§ˆë¡œ íŒë‹¨ë˜ë©´ ì‚­ì œ

### ê¶Œì¥
csm.sql ë‚´ìš©ì„ ê²€í† í•˜ì—¬ Option 1 ë˜ëŠ” 2 ì„ íƒ ê¶Œì¥

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„

### 1. csm.sql ê²€í†  ë° ê²°ì • (í•„ìš”ì‹œ)
```bash
cat _deprecated/csm.sql.review
# ë‚´ìš© í™•ì¸ í›„ crm í†µí•© ë˜ëŠ” ë…ë¦½ ê²°ì •
```

### 2. ê¸°ì¡´ ìŠ¤í‚¤ë§ˆ ì°¸ì¡° ì—…ë°ì´íŠ¸
```sql
-- 10_ivm.sql, 11_psm.sql, 12_srm.sql, 13_asm.sqlì—ì„œ
-- adm.products â†’ pim.products
-- adm.customers â†’ crm.customers
-- adm.warehouses â†’ wms.warehouses
```

### 3. Backend ëª¨ë¸ ì¬êµ¬ì„±
```python
# apps/backend-api/src/api/models/tenant/ ë””ë ‰í† ë¦¬ ì¬êµ¬ì„±
```

---

## ğŸ“‚ íŒŒì¼ ìœ„ì¹˜

```
/home/itjee/workspace/cxg/packages/database/schemas/tenants/

[í™œì„± ìŠ¤í‚¤ë§ˆ íŒŒì¼]
â”œâ”€â”€ 00_init.sql               âœ…
â”œâ”€â”€ 01_adm.sql                âœ…
â”œâ”€â”€ 02_hrm.sql                âœ…
â”œâ”€â”€ 03_crm.sql                âœ…
â”œâ”€â”€ 04_pim.sql                âœ…
â”œâ”€â”€ 05_wms.sql                âœ…
â”œâ”€â”€ 06_apm.sql                âœ…
â”œâ”€â”€ 10_ivm.sql                âœ…
â”œâ”€â”€ 11_psm.sql                âœ…
â”œâ”€â”€ 12_srm.sql                âœ…
â”œâ”€â”€ 13_asm.sql                âœ…
â”œâ”€â”€ 14_fim.sql                âœ…
â”œâ”€â”€ 20_bim.sql                âœ…
â”œâ”€â”€ 21_com.sql                âœ…
â””â”€â”€ 22_sys.sql                âœ…

[íê¸°/ê²€í†  íŒŒì¼]
â””â”€â”€ _deprecated/
    â”œâ”€â”€ adm.sql.old           âŒ ë°±ì—…
    â”œâ”€â”€ lwm.sql.old           âŒ í†µí•©ë¨ (wms)
    â”œâ”€â”€ 05_wms_partial.sql.old âŒ ì„ì‹œ
    â””â”€â”€ csm.sql.review        âš ï¸  ê²€í†  í•„ìš”
```

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ëª¨ë“  í™•ì • ìŠ¤í‚¤ë§ˆì— ë²ˆí˜¸ ë¶€ì—¬
- [x] íê¸° íŒŒì¼ _deprecated/ ì´ë™
- [x] 00_init.sql ì—…ë°ì´íŠ¸
- [x] íŒŒì¼ êµ¬ì¡° ë¬¸ì„œí™”
- [ ] csm.sql ê²€í†  ë° ê²°ì •
- [ ] ê¸°ì¡´ ìŠ¤í‚¤ë§ˆ ì°¸ì¡° ì—…ë°ì´íŠ¸
- [ ] Backend ëª¨ë¸ ì¬êµ¬ì„±

---

**ì‘ì—… ì™„ë£Œ!**
