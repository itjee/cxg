# ìŠ¤í‚¤ë§ˆ ì¬êµ¬ì„± ì§„í–‰ í˜„í™©

**ì‹œì‘ì¼**: 2025-01-20  
**ë‹´ë‹¹ì**: Database Architecture Team  
**ìƒíƒœ**: ì§„í–‰ ì¤‘ (Phase 1)

---

## ğŸ“‹ ì§„í–‰ ê³„íš ìš”ì•½

### ìµœì¢… ëª©í‘œ êµ¬ì¡°

```
Tenant Database (tnnt_db):
â”œâ”€â”€ 01_adm.sql       # ê³µí†µ ê¸°ì¤€ì •ë³´ (REDUCED)
â”œâ”€â”€ 02_hrm.sql       # ì¸ì‚¬ê´€ë¦¬ â­ NEW
â”œâ”€â”€ 03_crm.sql       # ê³ ê°ê´€ê³„ê´€ë¦¬ â­ NEW
â”œâ”€â”€ 04_pim.sql       # ì œí’ˆì •ë³´ê´€ë¦¬ â­ NEW
â”œâ”€â”€ 05_wms.sql       # ì°½ê³ /ë¬¼ë¥˜ê´€ë¦¬ â­ NEW (wms + lwm í†µí•©)
â”œâ”€â”€ 06_apm.sql       # ê²°ì¬/ì›Œí¬í”Œë¡œìš° â­ NEW
â”œâ”€â”€ 10_ivm.sql       # ì¬ê³ ê´€ë¦¬ (ê¸°ì¡´ ìœ ì§€, ì°¸ì¡° ì—…ë°ì´íŠ¸)
â”œâ”€â”€ 11_psm.sql       # êµ¬ë§¤ê´€ë¦¬ (ê¸°ì¡´ ìœ ì§€, ì°¸ì¡° ì—…ë°ì´íŠ¸)
â”œâ”€â”€ 12_srm.sql       # íŒë§¤ê´€ë¦¬ (ê¸°ì¡´ ìœ ì§€, ì°¸ì¡° ì—…ë°ì´íŠ¸)
â”œâ”€â”€ 13_asm.sql       # A/Sê´€ë¦¬ (ê¸°ì¡´ ìœ ì§€, ì°¸ì¡° ì—…ë°ì´íŠ¸)
â”œâ”€â”€ 14_fim.sql       # ì¬ë¬´íšŒê³„ (ê¸°ì¡´ ìœ ì§€)
â”œâ”€â”€ 20_bim.sql       # ë¶„ì„ (ê¸°ì¡´ ìœ ì§€)
â”œâ”€â”€ 21_com.sql       # ë©”ì‹œì§• (ê¸°ì¡´ ìœ ì§€)
â””â”€â”€ 22_sys.sql       # ì‹œìŠ¤í…œ (ê¸°ì¡´ ìœ ì§€)

[DEPRECATED]
â”œâ”€â”€ adm.sql.old      # ë°±ì—… (ë¶„ë¦¬ ì „)
â””â”€â”€ lwm.sql.old      # ë°±ì—… (wms í†µí•© ì „)
```

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### Phase 1-1: hrm (ì¸ì‚¬ê´€ë¦¬) ìŠ¤í‚¤ë§ˆ ìƒì„± âœ…

**íŒŒì¼**: `02_hrm.sql` (303 ì¤„)  
**ì™„ë£Œì¼**: 2025-01-20  

#### ìƒì„±ëœ í…Œì´ë¸”
```sql
hrm.departments     -- ì¡°ì§/ë¶€ì„œ (from adm.departments)
hrm.employees       -- ì‚¬ì› (from adm.employees)
```

#### ì£¼ìš” ì‘ì—…
- âœ… adm.departments â†’ hrm.departments ì´ê´€
- âœ… adm.employees â†’ hrm.employees ì´ê´€
- âœ… ëª¨ë“  ì»¬ëŸ¼ì— ì¸ë¼ì¸ ì£¼ì„ ì¶”ê°€
- âœ… COMMENT ON êµ¬ë¬¸ ì¶”ê°€
- âœ… ì¸ë±ìŠ¤ ìƒì„± ë° ì£¼ì„ ì¶”ê°€ (14ê°œ)
- âœ… ìœ ë‹ˆí¬ ì œì•½ì¡°ê±´ ì¶”ê°€ ë° ì£¼ì„ (5ê°œ)
- âœ… ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ ì¶”ê°€ ë° ì£¼ì„ (3ê°œ)
- âœ… CHECK ì œì•½ì¡°ê±´ ì£¼ì„ ì¶”ê°€

#### ê°œì„ ì‚¬í•­
- ì»¬ëŸ¼ëª… ì¼ê´€ì„± ìœ ì§€
- ì¸ë±ìŠ¤ëª… í‘œì¤€í™” (ix_, ux_, fk_)
- ëª¨ë“  ì œì•½ì¡°ê±´ì— ì„¤ëª… ì£¼ì„ ì¶”ê°€

---

## ğŸ”„ ì§„í–‰ ì¤‘ì¸ ì‘ì—…

### Phase 1-2: pim (ì œí’ˆì •ë³´ê´€ë¦¬) ìŠ¤í‚¤ë§ˆ ìƒì„± (ì§„í–‰ ì˜ˆì •)

**ì˜ˆìƒ íŒŒì¼**: `04_pim.sql` (ì•½ 800-900 ì¤„ ì˜ˆìƒ)

#### ì´ê´€ ëŒ€ìƒ í…Œì´ë¸”
```sql
adm.makers               â†’ pim.makers              # ì œì¡°ì‚¬
adm.brands               â†’ pim.brands              # ë¸Œëœë“œ
adm.categories           â†’ pim.categories          # ì¹´í…Œê³ ë¦¬
adm.category_managers    â†’ pim.category_managers   # ì¹´í…Œê³ ë¦¬ ë‹´ë‹¹ì
adm.products             â†’ pim.products            # ì œí’ˆ
adm.product_managers     â†’ pim.product_managers    # ì œí’ˆ ë‹´ë‹¹ì
```

#### ì‘ì—… ê³„íš
1. adm.sqlì—ì„œ ì œí’ˆ ê´€ë ¨ í…Œì´ë¸” DDL ì¶”ì¶œ
2. ìŠ¤í‚¤ë§ˆëª…ì„ adm â†’ pimìœ¼ë¡œ ë³€ê²½
3. ì»¬ëŸ¼ ì„¸ë¡œ ì •ë ¬ ë° ì¸ë¼ì¸ ì£¼ì„ ì¶”ê°€
4. COMMENT ON ê° í…Œì´ë¸” ì§í›„ ë°°ì¹˜
5. ì¸ë±ìŠ¤, ì œì•½ì¡°ê±´ì— ì£¼ì„ ì¶”ê°€
6. ì™¸ë˜í‚¤ ê´€ê³„ ê²€í†  ë° ìˆ˜ì •

---

## ğŸ“… ë‹¤ìŒ ë‹¨ê³„ ê³„íš

### Phase 1-3: crm (ê³ ê°ê´€ê³„ê´€ë¦¬) ìŠ¤í‚¤ë§ˆ ìƒì„±

**ì˜ˆìƒ íŒŒì¼**: `03_crm.sql` (ì•½ 700 ì¤„)

#### ì´ê´€ ëŒ€ìƒ í…Œì´ë¸”
```sql
adm.customers            â†’ crm.customers           # ê±°ë˜ì²˜/ê³ ê°
adm.customer_contacts    â†’ crm.customer_contacts   # ê±°ë˜ì²˜ ë‹´ë‹¹ì
adm.customer_managers    â†’ crm.customer_managers   # ìš°ë¦¬ì¸¡ ì˜ì—… ë‹´ë‹¹ì
adm.customer_banks       â†’ crm.customer_banks      # ê±°ë˜ì²˜ ê³„ì¢Œ
adm.customer_addresses   â†’ crm.customer_addresses  # ê±°ë˜ì²˜ ì£¼ì†Œ
```

#### csm ìŠ¤í‚¤ë§ˆ í†µí•© ê²€í† 
- csm ìŠ¤í‚¤ë§ˆ ë‚´ìš© ë¶„ì„
- crmê³¼ì˜ ì¤‘ë³µ ì—¬ë¶€ í™•ì¸
- í†µí•© ë˜ëŠ” ì—­í•  ë¶„ë¦¬ ê²°ì •

---

### Phase 1-4: wms (ì°½ê³ /ë¬¼ë¥˜ê´€ë¦¬) ìŠ¤í‚¤ë§ˆ ìƒì„± ë° í†µí•©

**ì˜ˆìƒ íŒŒì¼**: `05_wms.sql` (ì•½ 600-700 ì¤„)

#### ì´ê´€ ë° í†µí•© ëŒ€ìƒ
```sql
-- admì—ì„œ ì´ê´€
adm.warehouses           â†’ wms.warehouses
adm.warehouse_employees  â†’ wms.warehouse_employees
adm.warehouse_locations  â†’ wms.warehouse_locations

-- lwmì—ì„œ í†µí•© (í…Œì´ë¸”ëª… ë³€ê²½)
lwm.goods_receipts       â†’ wms.receiving           # ëª…ì¹­ ê°œì„ 
lwm.goods_receipt_lines  â†’ wms.receiving_items     # ëª…ì¹­ ê°œì„ 
lwm.goods_issues         â†’ wms.shipping            # ëª…ì¹­ ê°œì„ 
lwm.goods_issue_lines    â†’ wms.shipping_items      # ëª…ì¹­ ê°œì„ 
```

#### ì¶”ê°€ ì‘ì—…
- lwm ìŠ¤í‚¤ë§ˆ íê¸°
- ivm.inventory_movementsì˜ reference_doc_type ì—…ë°ì´íŠ¸
  - 'GR' â†’ 'RECEIVING'
  - 'GI' â†’ 'SHIPPING'

---

### Phase 1-5: apm (ê²°ì¬/ì›Œí¬í”Œë¡œìš°) ìŠ¤í‚¤ë§ˆ ì‹ ê·œ ì„¤ê³„

**ì˜ˆìƒ íŒŒì¼**: `06_apm.sql` (ì•½ 500 ì¤„)

#### ì‹ ê·œ í…Œì´ë¸” ì„¤ê³„
```sql
apm.approval_lines       -- ê²°ì¬ì„  ì •ì˜
apm.approval_line_items  -- ê²°ì¬ì„  ìƒì„¸
apm.workflows            -- ì›Œí¬í”Œë¡œìš° ì •ì˜
apm.workflow_steps       -- ì›Œí¬í”Œë¡œìš° ë‹¨ê³„
apm.approval_requests    -- ê²°ì¬ ìš”ì²­
apm.approval_histories   -- ê²°ì¬ ì´ë ¥
apm.approval_comments    -- ê²°ì¬ ì˜ê²¬
apm.document_types       -- ë¬¸ì„œ ìœ í˜•
```

---

### Phase 1-6: adm (ê³µí†µ ê¸°ì¤€ì •ë³´) ì¶•ì†Œ

**íŒŒì¼**: `01_adm.sql` (ì•½ 300 ì¤„ë¡œ ì¶•ì†Œ ì˜ˆìƒ)

#### ë‚¨ê¸¸ í…Œì´ë¸”
```sql
adm.code_groups          -- ê³µí†µì½”ë“œ ê·¸ë£¹
adm.codes                -- ê³µí†µì½”ë“œ
adm.settings             -- ì‹œìŠ¤í…œ ì„¤ì •
adm.countries            -- êµ­ê°€
adm.regions              -- ì§€ì—­
adm.currencies           -- í†µí™”
adm.exchange_rates       -- í™˜ìœ¨
adm.units                -- ë‹¨ìœ„
adm.unit_conversions     -- ë‹¨ìœ„ í™˜ì‚°
adm.holidays             -- ê³µíœ´ì¼
adm.number_sequences     -- ë²ˆí˜¸ ì±„ë²ˆ
```

---

## ğŸ“Š ì§„í–‰ë¥ 

### Phase 1: ìŠ¤í‚¤ë§ˆ íŒŒì¼ ìƒì„±

| ìŠ¤í‚¤ë§ˆ | ìƒíƒœ | ì§„í–‰ë¥  | ì˜ˆìƒ ì™„ë£Œ |
|--------|------|--------|----------|
| hrm | âœ… ì™„ë£Œ | 100% | 2025-01-20 |
| pim | ğŸ”„ ëŒ€ê¸° | 0% | - |
| crm | ğŸ”„ ëŒ€ê¸° | 0% | - |
| wms | ğŸ”„ ëŒ€ê¸° | 0% | - |
| apm | ğŸ”„ ëŒ€ê¸° | 0% | - |
| adm | ğŸ”„ ëŒ€ê¸° | 0% | - |

**ì „ì²´ ì§„í–‰ë¥ **: 16.7% (1/6 ì™„ë£Œ)

---

## ğŸ¯ ë‹¤ìŒ ì‘ì—… ì„ íƒ

ì‚¬ìš©ìë‹˜ì´ ì„ íƒí•˜ì‹¤ ìˆ˜ ìˆëŠ” ì˜µì…˜:

### Option 1: ìˆœì°¨ ì§„í–‰ (ê¶Œì¥)
ê° ìŠ¤í‚¤ë§ˆë¥¼ í•˜ë‚˜ì”© ì™„ì„±í•˜ë©° ê²€ì¦
- âœ… ì•ˆì •ì 
- âœ… ê²€í†  ë° ìˆ˜ì • ìš©ì´
- âŒ ì‹œê°„ ì†Œìš”

### Option 2: ë³‘ë ¬ ì§„í–‰
ì—¬ëŸ¬ ìŠ¤í‚¤ë§ˆë¥¼ ë™ì‹œì— ìƒì„±
- âœ… ë¹ ë¥¸ ì™„ë£Œ
- âŒ ê²€ì¦ ì–´ë ¤ì›€
- âŒ ì˜¤ë¥˜ ë°œìƒ ì‹œ ì „ì²´ ì¬ì‘ì—… í•„ìš”

### Option 3: í•µì‹¬ ìŠ¤í‚¤ë§ˆ ìš°ì„ 
hrm, pim, wmsë§Œ ìš°ì„  ì™„ì„±
- âœ… ì¤‘ìš” ë„ë©”ì¸ ë¨¼ì € ë¶„ë¦¬
- âœ… ë‹¨ê³„ì  ì „í™˜ ê°€ëŠ¥
- âŒ ë¶€ë¶„ì  ì™„ì„±

---

## ğŸ’¡ ê¶Œì¥ì‚¬í•­

**Option 1 (ìˆœì°¨ ì§„í–‰)** ì„ ê¶Œì¥í•©ë‹ˆë‹¤:
1. âœ… hrm ì™„ë£Œ
2. pim ì§„í–‰ â†’ ê²€ì¦
3. crm ì§„í–‰ â†’ ê²€ì¦
4. wms ì§„í–‰ â†’ ê²€ì¦
5. apm ì„¤ê³„ â†’ ê²€ì¦
6. adm ì¶•ì†Œ â†’ ìµœì¢… ê²€ì¦

ê° ë‹¨ê³„ë§ˆë‹¤ ì‚¬ìš©ì ê²€í†  í›„ ì§„í–‰í•˜ì—¬ í’ˆì§ˆ í™•ë³´

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„ ì‹¤í–‰ ëŒ€ê¸°

**ë‹¤ìŒ ì‘ì—…**: pim (ì œí’ˆì •ë³´ê´€ë¦¬) ìŠ¤í‚¤ë§ˆ ìƒì„±

ì§„í–‰ í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/N)
ë˜ëŠ” ë‹¤ë¥¸ ìŠ¤í‚¤ë§ˆë¥¼ ë¨¼ì € ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

---

**ë¬¸ì„œ ë**
